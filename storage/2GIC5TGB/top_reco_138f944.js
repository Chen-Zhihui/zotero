define("ydcommon:widget/read/top_reco/top_reco.js",function(o,e,s){var t=o("ydcommon:widget/ui/lib/jquery/jquery.js"),n=o("ydcommon:widget/ui/read/trigger_ps_tips/trigger_ps_tips.js"),i=o("ydcommon:widget/ui/lib/cookie/cookie.js");o("ydcommon:widget/ui/js_core/countdown/countdown.js");var c={init:function(o){this.isClosing=!1,t(".top-reco-area").click(function(o){o.preventDefault(),window.open("//yuedu.baidu.com/book/list/0?fr=topReco","_blank")}),this._hasCookies()?(t(".top-reco-area .reco-img-small").show(),this._smallGifInit(),n.getConditionsDef("weekend").resolve()):(this._setCookies()._eventInit()._countInit(o),setTimeout(function(){t("#ft").addClass("force-repaint").removeClass("force-repaint")
},0))},_hasCookies:function(){return!(null===i.get("weekend_activity"))},_setCookies:function(){return i.set("weekend_activity",1,{path:"/",expires:864e5}),this},_eventInit:function(){var o=t.proxy(this._closeReco,this);return t(".top-reco-area .reco-close-btn").click(function(e){e.preventDefault(),e.stopPropagation(),o()}),setTimeout(o,1e4),this},_closeReco:function(){var o=this;o.isClosing||(o.isClosing=!0,t(".reco-img-big-wrap").slideUp(1e3,function(){t("#doc").css("zoom","0"),t("#doc").css("zoom","1"),t(".top-reco-area .reco-img-small").fadeIn("fast"),o._smallGifInit(),n.getConditionsDef("weekend").resolve()
}))},_smallGifInit:function(){var o=t(".top-reco-area"),e=t(".reco-img-small");setTimeout(function(){e.hasClass("reco-img-small-red")?(o.css("background-color","#151515"),e.removeClass("reco-img-small-red")):(o.css("background-color","#C51F1F"),e.addClass("reco-img-small-red")),setTimeout(arguments.callee,5e3)},5e3)},_countInit:function(o){return t(".top-reco-area .countdown-wrap").countdown(o,function(o){t(this).html(["\u672c\u6b21\u7279\u60e0\u8fd8\u5269",'<span class="countdown-hours">'+(24*o.offset.totalDays+o.offset.hours)+"</span>\u65f6",'<span class="countdown-minutes">'+o.offset.minutes+"</span>\u5206",'<span class="countdown-secounds">'+o.offset.seconds+"</span>\u79d2","&nbsp;&nbsp;\u7ed3\u675f"].join(""))
}),this}};s.exports=c});