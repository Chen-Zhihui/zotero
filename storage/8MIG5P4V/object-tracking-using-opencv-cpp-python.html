<html class="js" style="min-height: 100%;"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link type="text/css" media="all" href="autoptimize_c144b6bd71dc810fc483a3b5a161a368.css" rel="stylesheet"><title>Object Tracking using OpenCV (C++/Python) | Learn OpenCV</title><link rel="author" href="https://plus.google.com/+SatyaMallick"><meta name="description" content="This tutorial explains usage and theory of 6 different object trackers available in OpenCV — BOOSTING, MIL, KCF, TLD, MEDIANFLOW, and GOTURN."><meta name="keywords" content="boosting,c++,goturn,kcl,medianflow,mil,object tracking,opencv 3,python,tld"><link rel="canonical" href="https://www.learnopencv.com/object-tracking-using-opencv-cpp-python/"><link rel="amphtml" href="https://www.learnopencv.com/object-tracking-using-opencv-cpp-python/amp/"><link rel="dns-prefetch" href="https://fonts.googleapis.com/"><link rel="dns-prefetch" href="https://maxcdn.bootstrapcdn.com/"><link rel="dns-prefetch" href="https://s.w.org/"><link rel="alternate" type="application/rss+xml" title="Learn OpenCV » Feed" href="https://www.learnopencv.com/feed/"><link rel="alternate" type="application/rss+xml" title="Learn OpenCV » Comments Feed" href="https://www.learnopencv.com/comments/feed/"><link rel="alternate" type="application/rss+xml" title="Learn OpenCV » Object Tracking using OpenCV (C++/Python) Comments Feed" href="https://www.learnopencv.com/object-tracking-using-opencv-cpp-python/feed/"> <script type="text/javascript" async="" src="analytics.js"></script><script async="" src="fbevents.js"></script><script type="text/javascript" async="" src="analytics.js"></script><script async="" src="fbevents.js"></script><script type="text/javascript">window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.learnopencv.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.6"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);</script><script src="wp-emoji-release.js" type="text/javascript" defer="defer"></script><script src="wp-emoji-release.js" type="text/javascript" defer="defer"></script> <link rel="stylesheet" id="google-fonts-css" href="css.css" type="text/css" media="all"><link rel="stylesheet" id="dashicons-css" href="dashicons.css" type="text/css" media="all"><link rel="stylesheet" id="font-awesome-css" href="font-awesome.css" type="text/css" media="all"> <script>if (document.location.protocol != "https:") {document.location = document.URL.replace(/^http:/i, "https:");}</script><script type="text/javascript" src="jquery.js"></script> <!--[if lt IE 9]> <script type='text/javascript' src='https://www.learnopencv.com/wp-content/themes/genesis/lib/js/html5shiv.min.js?ver=3.7.3'></script> <![endif]--><link rel="https://api.w.org/" href="https://www.learnopencv.com/wp-json/"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.learnopencv.com/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.learnopencv.com/wp-includes/wlwmanifest.xml"><link rel="prev" title="Handwritten Digits Classification : An OpenCV ( C++ / Python ) Tutorial" href="https://www.learnopencv.com/handwritten-digits-classification-an-opencv-c-python-tutorial/"><link rel="next" title="Embedded Computer Vision: Which device should you choose?" href="https://www.learnopencv.com/embedded-computer-vision-which-device-should-you-choose/"><link rel="shortlink" href="https://www.learnopencv.com/?p=3520"><link rel="alternate" type="application/json+oembed" href="https://www.learnopencv.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.learnopencv.com%2Fobject-tracking-using-opencv-cpp-python%2F"><link rel="alternate" type="text/xml+oembed" href="https://www.learnopencv.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.learnopencv.com%2Fobject-tracking-using-opencv-cpp-python%2F&amp;format=xml">  <script async="" src="js.js"></script> <script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());

  gtag('config', 'UA-50426860-2');</script>  <script>!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '193036094536652'); // Insert your pixel ID here.
fbq('track', 'PageView');</script> <noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=193036094536652&ev=PageView&noscript=1"
/></noscript><link rel="pingback" href="https://www.learnopencv.com/xmlrpc.php"><link rel="icon" href="https://www.learnopencv.com/wp-content/uploads/2017/04/cropped-favicon-512x512-32x32.png" sizes="32x32"><link rel="icon" href="https://www.learnopencv.com/wp-content/uploads/2017/04/cropped-favicon-512x512-192x192.png" sizes="192x192"><link rel="apple-touch-icon-precomposed" href="https://www.learnopencv.com/wp-content/uploads/2017/04/cropped-favicon-512x512-180x180.png"><meta name="msapplication-TileImage" content="https://www.learnopencv.com/wp-content/uploads/2017/04/cropped-favicon-512x512-270x270.png"><script src="can-i-show.js"></script><link rel="stylesheet" type="text/css" href="shCore.css"><link rel="stylesheet" type="text/css" href="shThemeDefault.css"><script async="" type="text/javascript" src="count.js"></script><script type="text/javascript" async="" src="embed.js"></script><script src="can-i-show.js"></script><link rel="stylesheet" type="text/css" href="shCore.css"><link rel="stylesheet" type="text/css" href="shThemeDefault.css"><script async="" type="text/javascript" src="count.js"></script><script type="text/javascript" async="" src="embed.js"></script></head><body data-rsssl="1" class="post-template-default single single-post postid-3520 single-format-standard header-full-width content-sidebar" itemscope="" itemtype="https://schema.org/WebPage"><div class="site-container"><ul class="genesis-skip-link"><li><a href="#genesis-nav-primary" class="screen-reader-shortcut"> Skip to primary navigation</a></li><li><a href="#genesis-content" class="screen-reader-shortcut"> Skip to content</a></li><li><a href="#genesis-sidebar-primary" class="screen-reader-shortcut"> Skip to primary sidebar</a></li></ul><header class="site-header fadeInUp" itemscope="" itemtype="https://schema.org/WPHeader"><div class="wrap"><div class="title-area"><p class="site-title" itemprop="headline"><a href="https://www.learnopencv.com/">Learn OpenCV</a></p><p class="site-description" itemprop="description">OpenCV examples and tutorials ( C++ / Python )</p></div><nav class="nav-primary" aria-label="Main" itemscope="" itemtype="https://schema.org/SiteNavigationElement" id="genesis-nav-primary"><div class="wrap"><div class="responsive-menu-icon"></div><div class="responsive-menu-icon"></div><ul id="menu-top-bar" class="menu genesis-nav-menu menu-primary js-superfish responsive-menu" style="touch-action: pan-y;"><li id="menu-item-754" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-754"><a href="https://www.learnopencv.com/" itemprop="url"><span itemprop="name">Home</span></a></li><li id="menu-item-753" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-753"><a href="https://www.learnopencv.com/about/" itemprop="url"><span itemprop="name">About</span></a></li><li id="menu-item-859" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-859"><a href="https://www.learnopencv.com/computer-vision-resources" itemprop="url"><span itemprop="name">Resources</span></a></li><li id="menu-item-4009" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4009"><a href="https://www.learnopencv.com/computer-vision-machine-learning-artificial-intelligence-consulting/" itemprop="url"><span itemprop="name">AI Consulting</span></a></li><li id="menu-item-4153" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4153"><a href="http://courses.learnopencv.com/" itemprop="url"><span itemprop="name">Courses</span></a></li></ul></div></nav></div></header><div class="site-inner"><div class="content-sidebar-wrap"><main class="content" id="genesis-content"><article class="post-3520 post type-post status-publish format-standard category-application category-how-to category-object-detection category-opencv-3 category-tracking tag-boosting tag-c tag-goturn tag-kcl tag-medianflow tag-mil tag-object-tracking tag-opencv-3 tag-python tag-tld entry" itemscope="" itemtype="https://schema.org/CreativeWork"><header class="entry-header"><h1 class="entry-title" itemprop="headline">Object Tracking using OpenCV (C++/Python)</h1><p class="entry-meta"><time class="entry-time" itemprop="datePublished" datetime="2017-02-13T09:00:09+00:00">February 13, 2017</time> By <span class="entry-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><a href="https://www.learnopencv.com/author/spmallick/" class="entry-author-link" itemprop="url" rel="author"><span class="entry-author-name" itemprop="name">Satya Mallick</span></a></span> <span class="entry-comments-link"><a href="https://www.learnopencv.com/object-tracking-using-opencv-cpp-python/#disqus_thread" data-disqus-identifier="3520 https://www.learnopencv.com/?p=3520"><span class="dsq-postid" data-dsqidentifier="3520 https://www.learnopencv.com/?p=3520">114 Comments</span></a></span></p></header><div class="entry-content" itemprop="text"><p>In
 this tutorial, we will learn about OpenCV tracking API that was 
introduced in OpenCV 3.0.  We will learn how and when to use the 6 
different trackers available in OpenCV 3.2 — BOOSTING, MIL, KCF, TLD, 
MEDIANFLOW, and GOTURN. We will also learn the general theory behind 
modern tracking algorithms.</p><p>This problem has been perfectly solved
 by my friend Boris Babenko as shown in this flawless real-time face 
tracker below! Jokes aside, the animation demonstrates what we want from
 an ideal object tracker — speed, accuracy, and robustness to occlusion.</p><p><a href="https://www.learnopencv.com/wp-content/uploads/2017/02/real-time-face-tracking.gif"><img class="aligncenter wp-image-3532 size-full" src="real-time-face-tracking.gif" alt="Real time face tracking solved!" width="320" height="240"></a></p><h2> OpenCV Object Tracker Demo</h2><p>If you do not have the time to read the entire post, just watch this video and learn the usage in this <a href="#opencv-tracking-api">section</a>. But if you really want to learn about object tracking, read on.</p><div class="video-container" style="margin-top:20px; margin-bottom:20px;"> <iframe src="https://www.youtube.com/embed/61QjSz-oLr8?feature=oembed" allowfullscreen="" width="500" height="281" frameborder="0"></iframe></div><h2> What is Object Tracking ?</h2><p>Simply put, locating an object in successive frames of a video is called <strong>tracking</strong>.</p><p>The
 definition sounds straight forward but in computer vision and machine 
learning, tracking is a very broad term that encompasses conceptually 
similar but technically different ideas. For example, all the following 
different but related ideas are generally studied under <strong>Object Tracking</strong></p><ol><li><strong>Dense Optical flow</strong>: These algorithms help estimate the motion vector of every pixel in a video frame.</li><li><strong>Sparse optical flow</strong>: These algorithms, like the Kanade-Lucas-Tomashi (KLT) feature tracker, track the location of a few feature points in an image.</li><li><strong>Kalman Filtering</strong>:
 A very popular signal processing algorithm used to predict the location
 of a moving object based on prior motion information. One of the early 
applications of this algorithm was missile guidance! Also as mentioned <a href="https://www.cs.unc.edu/%7Ewelch/kalman/siam_cipra.html">here</a>, “the on-board computer that guided the descent of the Apollo 11 lunar module to the moon had a Kalman filter”.</li><li><strong>Meanshift and Camshift</strong>: These are algorithms for locating the maxima of a density function. They are also used for tracking.</li><li><strong>Single object trackers</strong>:
 In this class of trackers, the first frame is marked using a rectangle 
to indicate the location of the object we want to track. The object is 
then tracked in subsequent frames using the tracking algorithm. In most 
real life applications, these trackers are used in conjunction with an 
object detector.</li><li><strong>Multiple object track finding algorithms</strong>:
 In cases when we have a fast object detector, it makes sense to detect 
multiple objects in each frame and then run a track finding algorithm 
that identifies which rectangle in one frame corresponds to a rectangle 
in the next frame.</li></ol><h2>Tracking vs Detection</h2><p>If you have
 ever played with OpenCV face detection, you know that it works in real 
time and you can easily detect the face in every frame. So, why do you 
need tracking in the first place? Let’s explore the different reasons 
you may want to track objects in a video and not just do repeated 
detections.</p><ol><li><strong>Tracking is faster than Detection</strong>:
 Usually tracking algorithms are faster than detection algorithms. The 
reason is simple. When you are tracking an object that was detected in 
the previous frame, you know a lot about the appearance of the object. 
You also know the location in the previous frame and the direction and 
speed of its motion. So in the next frame, you can use all this 
information to predict the location of the object in the next frame and 
do a small search around the expected location of the object to 
accurately locate the object. A good tracking algorithm will use all 
information it has about the object up to that point while a detection 
algorithm always starts from scratch. Therefore, while designing an 
efficient system usually an object detection is run on every n<sup>th</sup>
 frame while the tracking algorithm is employed in the n-1 frames in 
between. Why don’t we simply detect the object in the first frame and 
track subsequently? It is true that tracking benefits from the extra 
information it has, but you can also lose track of an object when they 
go behind an obstacle for an extended period of time or if they move so 
fast that the tracking algorithm cannot catch up. It is also common for 
tracking algorithms to accumulate errors and the bounding box tracking 
the object slowly drifts away from the object it is tracking. To fix 
these problems with tracking algorithms, a detection algorithm is run 
every so often. Detection algorithms are trained on a large number of 
examples of the object. They, therefore, have more knowledge about the 
general class of the object. On the other hand, tracking algorithms know
 more about the specific instance of the class they are tracking.</li><li><strong>Tracking can help when detection fails</strong>:
 If you are running a face detector on a video and the person’s face 
get’s occluded by an object, the face detector will most likely fail. A 
good tracking algorithm, on the other hand, will handle some level of 
occlusion. In the video below, you can see Dr. Boris Babenko, the author
 of the MIL tracker, demonstrate how the MIL tracker works under 
occlusion.<div class="video-container" style="margin-bottom: 20px;"> <iframe src="https://www.youtube.com/embed/n4QA3shA8Yw?feature=oembed" allowfullscreen="" width="500" height="375" frameborder="0"></iframe></div></li><li><strong>Tracking preserves identity</strong>:
 The output of object detection is an array of rectangles that contain 
the object. However, there is no identity attached to the object. For 
example, in the video below, a detector that detects red dots will 
output rectangles corresponding to all the dots it has detected in a 
frame. In the next frame, it will output another array of rectangles. In
 the first frame, a particular dot might be represented by the rectangle
 at location 10 in the array and in the second frame, it could be at 
location 17. While using detection on a frame we have no idea which 
rectangle corresponds to which object. On the other hand, tracking 
provides a way to literally connect the dots!<div class="video-container" style="margin-bottom: 20px; margin-top: 20px;"> <iframe src="https://www.youtube.com/embed/SsiHH_wrwDg?feature=oembed" allowfullscreen="" width="500" height="281" frameborder="0"></iframe></div></li></ol><h2 id="opencv-tracking-api">OpenCV 3 Tracking API</h2><p>OpenCV
 3 comes with a new tracking API that contains implementations of many 
single object tracking algorithms. There are 6 different trackers 
available in OpenCV 3.2 — BOOSTING, MIL, KCF, TLD, MEDIANFLOW, and 
GOTURN.</p><p><strong>Note</strong>: OpenCV 3.1 has implementations of 
these 5 trackers — BOOSTING, MIL, KCF, TLD, MEDIANFLOW. OpenCV 3.0 has 
implementations of the following 4 trackers — BOOSTING, MIL, TLD, 
MEDIANFLOW.</p><p><strong>Update</strong>: In OpenCV 3.3, the tracking API has changed. The code checks for the version and then uses the corresponding API.</p><p>Before
 we provide a brief description of the algorithms, let us see the setup 
and usage. In the commented code below we first set up the tracker by 
choosing a tracker type —  BOOSTING, MIL, KCF, TLD, MEDIANFLOW or GOTURN
 ). We then open a video and grab a frame. We define a bounding box 
containing the object for the first frame and initialize the tracker 
with the first frame and the bounding box. Finally, we read frames from 
the video and just update the tracker in a loop to obtain a new bounding
 box for the current frame. Results are subsequently displayed.</p><p><strong>C++</strong></p><div><div id="highlighter_663698" class="syntaxhighlighter  cpp"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#include &lt;opencv2/opencv.hpp&gt;</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#include &lt;opencv2/tracking.hpp&gt;</code></div><div class="line number3 index2 alt2"><code class="cpp preprocessor">#include &lt;opencv2/core/ocl.hpp&gt;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="cpp keyword bold">using</code> <code class="cpp keyword bold">namespace</code> <code class="cpp plain">cv;</code></div><div class="line number6 index5 alt1"><code class="cpp keyword bold">using</code> <code class="cpp keyword bold">namespace</code> <code class="cpp plain">std;</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="cpp comments">// Convert to string</code></div><div class="line number9 index8 alt2"><code class="cpp preprocessor">#define SSTR( x ) static_cast&lt; std::ostringstream &amp; &gt;( \</code></div><div class="line number10 index9 alt1"><code class="cpp plain">( std::ostringstream() &lt;&lt; std::dec &lt;&lt; x ) ).str()</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="cpp color1 bold">int</code> <code class="cpp plain">main(</code><code class="cpp color1 bold">int</code> <code class="cpp plain">argc, </code><code class="cpp color1 bold">char</code> <code class="cpp plain">**argv)</code></div><div class="line number13 index12 alt2"><code class="cpp plain">{</code></div><div class="line number14 index13 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// List of tracker types in OpenCV 3.2</code></div><div class="line number15 index14 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// NOTE : GOTURN implementation is buggy and does not work.</code></div><div class="line number16 index15 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">string trackerTypes[6] = {</code><code class="cpp string">"BOOSTING"</code><code class="cpp plain">, </code><code class="cpp string">"MIL"</code><code class="cpp plain">, </code><code class="cpp string">"KCF"</code><code class="cpp plain">, </code><code class="cpp string">"TLD"</code><code class="cpp plain">,</code><code class="cpp string">"MEDIANFLOW"</code><code class="cpp plain">, </code><code class="cpp string">"GOTURN"</code><code class="cpp plain">};</code></div><div class="line number17 index16 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// vector &lt;string&gt; trackerTypes(types, std::end(types));</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Create a tracker</code></div><div class="line number20 index19 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">string trackerType = trackerTypes[2];</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Ptr&lt;Tracker&gt; tracker;</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp preprocessor">#if (CV_MINOR_VERSION &lt; 3)</code></div><div class="line number25 index24 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number26 index25 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">tracker = Tracker::create(trackerType);</code></div><div class="line number27 index26 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number28 index27 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp preprocessor">#else</code></div><div class="line number29 index28 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number30 index29 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(trackerType == </code><code class="cpp string">"BOOSTING"</code><code class="cpp plain">)</code></div><div class="line number31 index30 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">tracker = TrackerBoosting::create();</code></div><div class="line number32 index31 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(trackerType == </code><code class="cpp string">"MIL"</code><code class="cpp plain">)</code></div><div class="line number33 index32 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">tracker = TrackerMIL::create();</code></div><div class="line number34 index33 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(trackerType == </code><code class="cpp string">"KCF"</code><code class="cpp plain">)</code></div><div class="line number35 index34 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">tracker = TrackerKCF::create();</code></div><div class="line number36 index35 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(trackerType == </code><code class="cpp string">"TLD"</code><code class="cpp plain">)</code></div><div class="line number37 index36 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">tracker = TrackerTLD::create();</code></div><div class="line number38 index37 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(trackerType == </code><code class="cpp string">"MEDIANFLOW"</code><code class="cpp plain">)</code></div><div class="line number39 index38 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">tracker = TrackerMedianFlow::create();</code></div><div class="line number40 index39 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(trackerType == </code><code class="cpp string">"GOTURN"</code><code class="cpp plain">)</code></div><div class="line number41 index40 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">tracker = TrackerGOTURN::create();</code></div><div class="line number42 index41 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number43 index42 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp preprocessor">#endif</code></div><div class="line number44 index43 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Read video</code></div><div class="line number45 index44 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">VideoCapture video(</code><code class="cpp string">"videos/chaplin.mp4"</code><code class="cpp plain">);</code></div><div class="line number46 index45 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number47 index46 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Exit if video is not opened</code></div><div class="line number48 index47 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(!video.isOpened())</code></div><div class="line number49 index48 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number50 index49 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">cout &lt;&lt; </code><code class="cpp string">"Could not read video file"</code> <code class="cpp plain">&lt;&lt; endl;</code></div><div class="line number51 index50 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">1;</code></div><div class="line number52 index51 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number53 index52 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number54 index53 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number55 index54 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Read first frame</code></div><div class="line number56 index55 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Mat frame;</code></div><div class="line number57 index56 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">bool</code> <code class="cpp plain">ok = video.read(frame);</code></div><div class="line number58 index57 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number59 index58 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Define initial boundibg box</code></div><div class="line number60 index59 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Rect2d bbox(287, 23, 86, 320);</code></div><div class="line number61 index60 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number62 index61 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Uncomment the line below to select a different bounding box</code></div><div class="line number63 index62 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">bbox = selectROI(frame, </code><code class="cpp keyword bold">false</code><code class="cpp plain">);</code></div><div class="line number64 index63 alt1">&nbsp;</div><div class="line number65 index64 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Display bounding box.</code></div><div class="line number66 index65 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">rectangle(frame, bbox, Scalar( 255, 0, 0 ), 2, 1 );</code></div><div class="line number67 index66 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">imshow(</code><code class="cpp string">"Tracking"</code><code class="cpp plain">, frame);</code></div><div class="line number68 index67 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number69 index68 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">tracker-&gt;init(frame, bbox);</code></div><div class="line number70 index69 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number71 index70 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">(video.read(frame))</code></div><div class="line number72 index71 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number73 index72 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Start timer</code></div><div class="line number74 index73 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">double</code> <code class="cpp plain">timer = (</code><code class="cpp color1 bold">double</code><code class="cpp plain">)getTickCount();</code></div><div class="line number75 index74 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number76 index75 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Update the tracking result</code></div><div class="line number77 index76 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">bool</code> <code class="cpp plain">ok = tracker-&gt;update(frame, bbox);</code></div><div class="line number78 index77 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number79 index78 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Calculate Frames per second (FPS)</code></div><div class="line number80 index79 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">float</code> <code class="cpp plain">fps = getTickFrequency() / ((</code><code class="cpp color1 bold">double</code><code class="cpp plain">)getTickCount() - timer);</code></div><div class="line number81 index80 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number82 index81 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(ok)</code></div><div class="line number83 index82 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number84 index83 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Tracking success : Draw the tracked object</code></div><div class="line number85 index84 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">rectangle(frame, bbox, Scalar( 255, 0, 0 ), 2, 1 );</code></div><div class="line number86 index85 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number87 index86 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code></div><div class="line number88 index87 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number89 index88 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Tracking failure detected.</code></div><div class="line number90 index89 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">putText(frame, </code><code class="cpp string">"Tracking failure detected"</code><code class="cpp plain">, Point(100,80), FONT_HERSHEY_SIMPLEX, 0.75, Scalar(0,0,255),2);</code></div><div class="line number91 index90 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number92 index91 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number93 index92 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Display tracker type on frame</code></div><div class="line number94 index93 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">putText(frame, trackerType + </code><code class="cpp string">" Tracker"</code><code class="cpp plain">, Point(100,20), FONT_HERSHEY_SIMPLEX, 0.75, Scalar(50,170,50),2);</code></div><div class="line number95 index94 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number96 index95 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Display FPS on frame</code></div><div class="line number97 index96 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">putText(frame, </code><code class="cpp string">"FPS : "</code> <code class="cpp plain">+ SSTR(</code><code class="cpp color1 bold">int</code><code class="cpp plain">(fps)), Point(100,50), FONT_HERSHEY_SIMPLEX, 0.75, Scalar(50,170,50), 2);</code></div><div class="line number98 index97 alt1">&nbsp;</div><div class="line number99 index98 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Display frame.</code></div><div class="line number100 index99 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">imshow(</code><code class="cpp string">"Tracking"</code><code class="cpp plain">, frame);</code></div><div class="line number101 index100 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number102 index101 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Exit if ESC pressed.</code></div><div class="line number103 index102 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">k = waitKey(1);</code></div><div class="line number104 index103 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(k == 27)</code></div><div class="line number105 index104 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number106 index105 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">break</code><code class="cpp plain">;</code></div><div class="line number107 index106 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number108 index107 alt1">&nbsp;</div><div class="line number109 index108 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number110 index109 alt1"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div><p><strong>Python</strong></p><div><div id="highlighter_133865" class="syntaxhighlighter  python"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">cv2</code></div><div class="line number2 index1 alt1"><code class="python keyword">import</code> <code class="python plain">sys</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python plain">(major_ver, minor_ver, subminor_ver) </code><code class="python keyword">=</code> <code class="python plain">(cv2.__version__).split(</code><code class="python string">'.'</code><code class="python plain">)￼</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="python keyword">if</code> <code class="python plain">__name__ </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python string">'__main__'</code> <code class="python plain">:</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Set up tracker.</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Instead of MIL, you can also use</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tracker_types </code><code class="python keyword">=</code> <code class="python plain">[</code><code class="python string">'BOOSTING'</code><code class="python plain">, </code><code class="python string">'MIL'</code><code class="python plain">,</code><code class="python string">'KCF'</code><code class="python plain">, </code><code class="python string">'TLD'</code><code class="python plain">, </code><code class="python string">'MEDIANFLOW'</code><code class="python plain">, </code><code class="python string">'GOTURN'</code><code class="python plain">]</code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tracker_type </code><code class="python keyword">=</code> <code class="python plain">tracker_types[</code><code class="python value">2</code><code class="python plain">]</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python functions">int</code><code class="python plain">(minor_ver) &lt; </code><code class="python value">3</code><code class="python plain">:</code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tracker </code><code class="python keyword">=</code> <code class="python plain">cv2.Tracker_create(tracker_type)</code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">tracker_type </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python string">'BOOSTING'</code><code class="python plain">:</code></div><div class="line number18 index17 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tracker </code><code class="python keyword">=</code> <code class="python plain">cv2.TrackerBoosting_create()</code></div><div class="line number19 index18 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">tracker_type </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python string">'MIL'</code><code class="python plain">:</code></div><div class="line number20 index19 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tracker </code><code class="python keyword">=</code> <code class="python plain">cv2.TrackerMIL_create()</code></div><div class="line number21 index20 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">tracker_type </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python string">'KCF'</code><code class="python plain">:</code></div><div class="line number22 index21 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tracker </code><code class="python keyword">=</code> <code class="python plain">cv2.TrackerKCF_create()</code></div><div class="line number23 index22 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">tracker_type </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python string">'TLD'</code><code class="python plain">:</code></div><div class="line number24 index23 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tracker </code><code class="python keyword">=</code> <code class="python plain">cv2.TrackerTLD_create()</code></div><div class="line number25 index24 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">tracker_type </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python string">'MEDIANFLOW'</code><code class="python plain">:</code></div><div class="line number26 index25 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tracker </code><code class="python keyword">=</code> <code class="python plain">cv2.TrackerMedianFlow_create()</code></div><div class="line number27 index26 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">tracker_type </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python string">'GOTURN'</code><code class="python plain">:</code></div><div class="line number28 index27 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tracker </code><code class="python keyword">=</code> <code class="python plain">cv2.TrackerGOTURN_create()</code></div><div class="line number29 index28 alt2">&nbsp;</div><div class="line number30 index29 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Read video</code></div><div class="line number31 index30 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">video </code><code class="python keyword">=</code> <code class="python plain">cv2.VideoCapture(</code><code class="python string">"videos/chaplin.mp4"</code><code class="python plain">)</code></div><div class="line number32 index31 alt1">&nbsp;</div><div class="line number33 index32 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Exit if video not opened.</code></div><div class="line number34 index33 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python keyword">not</code> <code class="python plain">video.isOpened():</code></div><div class="line number35 index34 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">"Could not open video"</code></div><div class="line number36 index35 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">sys.exit()</code></div><div class="line number37 index36 alt2">&nbsp;</div><div class="line number38 index37 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Read first frame.</code></div><div class="line number39 index38 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ok, frame </code><code class="python keyword">=</code> <code class="python plain">video.read()</code></div><div class="line number40 index39 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python keyword">not</code> <code class="python plain">ok:</code></div><div class="line number41 index40 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'Cannot read video file'</code></div><div class="line number42 index41 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">sys.exit()</code></div><div class="line number43 index42 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number44 index43 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Define an initial bounding box</code></div><div class="line number45 index44 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">bbox </code><code class="python keyword">=</code> <code class="python plain">(</code><code class="python value">287</code><code class="python plain">, </code><code class="python value">23</code><code class="python plain">, </code><code class="python value">86</code><code class="python plain">, </code><code class="python value">320</code><code class="python plain">)</code></div><div class="line number46 index45 alt1">&nbsp;</div><div class="line number47 index46 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Uncomment the line below to select a different bounding box</code></div><div class="line number48 index47 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">bbox </code><code class="python keyword">=</code> <code class="python plain">cv2.selectROI(frame, </code><code class="python color1">False</code><code class="python plain">)</code></div><div class="line number49 index48 alt2">&nbsp;</div><div class="line number50 index49 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Initialize tracker with first frame and bounding box</code></div><div class="line number51 index50 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ok </code><code class="python keyword">=</code> <code class="python plain">tracker.init(frame, bbox)</code></div><div class="line number52 index51 alt1">&nbsp;</div><div class="line number53 index52 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python color1">True</code><code class="python plain">:</code></div><div class="line number54 index53 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Read a new frame</code></div><div class="line number55 index54 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ok, frame </code><code class="python keyword">=</code> <code class="python plain">video.read()</code></div><div class="line number56 index55 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python keyword">not</code> <code class="python plain">ok:</code></div><div class="line number57 index56 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">break</code></div><div class="line number58 index57 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number59 index58 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Start timer</code></div><div class="line number60 index59 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">timer </code><code class="python keyword">=</code> <code class="python plain">cv2.getTickCount()</code></div><div class="line number61 index60 alt2">&nbsp;</div><div class="line number62 index61 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Update tracker</code></div><div class="line number63 index62 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ok, bbox </code><code class="python keyword">=</code> <code class="python plain">tracker.update(frame)</code></div><div class="line number64 index63 alt1">&nbsp;</div><div class="line number65 index64 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Calculate Frames per second (FPS)</code></div><div class="line number66 index65 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">fps </code><code class="python keyword">=</code> <code class="python plain">cv2.getTickFrequency() </code><code class="python keyword">/</code> <code class="python plain">(cv2.getTickCount() </code><code class="python keyword">-</code> <code class="python plain">timer);</code></div><div class="line number67 index66 alt2">&nbsp;</div><div class="line number68 index67 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Draw bounding box</code></div><div class="line number69 index68 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">ok:</code></div><div class="line number70 index69 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Tracking success</code></div><div class="line number71 index70 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">p1 </code><code class="python keyword">=</code> <code class="python plain">(</code><code class="python functions">int</code><code class="python plain">(bbox[</code><code class="python value">0</code><code class="python plain">]), </code><code class="python functions">int</code><code class="python plain">(bbox[</code><code class="python value">1</code><code class="python plain">]))</code></div><div class="line number72 index71 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">p2 </code><code class="python keyword">=</code> <code class="python plain">(</code><code class="python functions">int</code><code class="python plain">(bbox[</code><code class="python value">0</code><code class="python plain">] </code><code class="python keyword">+</code> <code class="python plain">bbox[</code><code class="python value">2</code><code class="python plain">]), </code><code class="python functions">int</code><code class="python plain">(bbox[</code><code class="python value">1</code><code class="python plain">] </code><code class="python keyword">+</code> <code class="python plain">bbox[</code><code class="python value">3</code><code class="python plain">]))</code></div><div class="line number73 index72 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">cv2.rectangle(frame, p1, p2, (</code><code class="python value">255</code><code class="python plain">,</code><code class="python value">0</code><code class="python plain">,</code><code class="python value">0</code><code class="python plain">), </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">)</code></div><div class="line number74 index73 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code> <code class="python plain">:</code></div><div class="line number75 index74 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Tracking failure</code></div><div class="line number76 index75 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">cv2.putText(frame, </code><code class="python string">"Tracking failure detected"</code><code class="python plain">, (</code><code class="python value">100</code><code class="python plain">,</code><code class="python value">80</code><code class="python plain">), cv2.FONT_HERSHEY_SIMPLEX, </code><code class="python value">0.75</code><code class="python plain">,(</code><code class="python value">0</code><code class="python plain">,</code><code class="python value">0</code><code class="python plain">,</code><code class="python value">255</code><code class="python plain">),</code><code class="python value">2</code><code class="python plain">)</code></div><div class="line number77 index76 alt2">&nbsp;</div><div class="line number78 index77 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Display tracker type on frame</code></div><div class="line number79 index78 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">cv2.putText(frame, tracker_type </code><code class="python keyword">+</code> <code class="python string">" Tracker"</code><code class="python plain">, (</code><code class="python value">100</code><code class="python plain">,</code><code class="python value">20</code><code class="python plain">), cv2.FONT_HERSHEY_SIMPLEX, </code><code class="python value">0.75</code><code class="python plain">, (</code><code class="python value">50</code><code class="python plain">,</code><code class="python value">170</code><code class="python plain">,</code><code class="python value">50</code><code class="python plain">),</code><code class="python value">2</code><code class="python plain">);</code></div><div class="line number80 index79 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number81 index80 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Display FPS on frame</code></div><div class="line number82 index81 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">cv2.putText(frame, </code><code class="python string">"FPS : "</code> <code class="python keyword">+</code> <code class="python functions">str</code><code class="python plain">(</code><code class="python functions">int</code><code class="python plain">(fps)), (</code><code class="python value">100</code><code class="python plain">,</code><code class="python value">50</code><code class="python plain">), cv2.FONT_HERSHEY_SIMPLEX, </code><code class="python value">0.75</code><code class="python plain">, (</code><code class="python value">50</code><code class="python plain">,</code><code class="python value">170</code><code class="python plain">,</code><code class="python value">50</code><code class="python plain">), </code><code class="python value">2</code><code class="python plain">);</code></div><div class="line number83 index82 alt2">&nbsp;</div><div class="line number84 index83 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Display result</code></div><div class="line number85 index84 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">cv2.imshow(</code><code class="python string">"Tracking"</code><code class="python plain">, frame)</code></div><div class="line number86 index85 alt1">&nbsp;</div><div class="line number87 index86 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Exit if ESC pressed</code></div><div class="line number88 index87 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">k </code><code class="python keyword">=</code> <code class="python plain">cv2.waitKey(</code><code class="python value">1</code><code class="python plain">) &amp; </code><code class="python value">0xff</code></div><div class="line number89 index88 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">k </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python value">27</code> <code class="python plain">: </code><code class="python keyword">break</code></div></div></td></tr></tbody></table></div></div><h2> Object Tracking Algorithms</h2><p>In
 this section, we will dig a bit into different tracking algorithms. The
 goal is not to have a deep theoretical understanding of every tracker, 
but to understand them from a practical standpoint.</p><p>Let me begin 
by first explaining some general principles behind tracking. In 
tracking, our goal is to find an object in the current frame given we 
have tracked the object successfully in all ( or nearly all ) previous 
frames.</p><p>Since we have tracked the object up until the current 
frame, we know how it has been moving. In other words, we know the 
parameters of the <strong>motion model</strong>. The motion model is 
just a fancy way of saying that you know the location and the velocity (
 speed + direction of motion ) of the object in previous frames. If you 
knew nothing else about the object, you could predict the new location 
based on the current motion model, and you would be pretty close to 
where the new location of the object is.</p><p>But we have more 
information that just the motion of the object. We know how the object 
looks in each of the previous frames. In other words, we can build an <strong>appearance model</strong>
 that encodes what the object looks like. This appearance model can be 
used to search in a small neighborhood of the location predicted by the 
motion model to more accurately predict the location of the object.</p><blockquote><p>The
 motion model predicts the approximate location of the object. The 
appearance model fine tunes this estimate to provide a more accurate 
estimate based on appearance.</p></blockquote><p>If the object was very 
simple and did not change it’s appearance much, we could use a simple 
template as an appearance model and look for that template. However, 
real life is not that simple. The appearance of an object can change 
dramatically. To tackle this problem, in many modern trackers, this 
appearance model is a <strong>classifier</strong> that is trained in an <strong>online</strong> manner. Don’t panic! Let me explain in simpler terms.</p><p>The
 job of the classifier is to classify a rectangular region of an image 
as either an object or background. The classifier takes in an image 
patch as input and returns a score between 0 and 1 to indicate the 
probability that the image patch contains the object. The score is 0 
when it is absolutely sure the image patch is the background and 1 when 
it is absolutely sure the patch is the object.</p><p>In machine learning, we use the word “online” to refer to algorithms that are trained on the fly at run time. An <em>offline</em> classifier may need thousands of examples to train a classifier, but an <em>online</em> classifier is typically trained using a very few examples at run time.</p><p>A
 classifier is trained by feeding it positive ( object ) and negative ( 
background ) examples. If you want to build a classifier for detecting 
cats, you train it with thousands of images containing cats and 
thousands of images that do not contain cats. This way the classifier 
learns to differentiate what is a cat and what is not. You can learn 
more about <a href="https://www.learnopencv.com/image-recognition-and-object-detection-part1">image classification</a> <a href="https://www.learnopencv.com/image-recognition-and-object-detection-part1">here</a>.
 While building an online classifier, we do not have the luxury of 
having thousands of examples of the positive and negative classes.</p><p>Let’s look how different tracking algorithms approach this problem of online training.</p><h3>BOOSTING Tracker</h3><p>This
 tracker is based on an online version of AdaBoost — the algorithm that 
the HAAR cascade based face detector uses internally. This classifier 
needs to be trained at runtime with positive and negative examples of 
the object. The initial bounding box supplied by the user ( or by 
another object detection algorithm ) is taken as the positive example 
for the object, and many image patches outside the bounding box are 
treated as the background. Given a new frame, the classifier is run on 
every pixel in the neighborhood of the previous location and the score 
of the classifier is recorded. The new location of the object is the one
 where the score is maximum. So now we have one more positive example 
for the classifier. As more frames come in, the classifier is updated 
with this additional data.</p><p><strong>Pros</strong> : None. This 
algorithm is a decade old and works ok, but I could not find a good 
reason to use it especially when other advanced trackers (MIL, KCF) 
based on similar principles are available.</p><p><strong>Cons</strong> : Tracking performance is mediocre. It does not reliably know when tracking has failed.</p><h3>MIL Tracker</h3><p>This
 tracker is similar in idea to the BOOSTING tracker described above. The
 big difference is that instead of considering only the current location
 of the object as a positive example, it looks in a small neighborhood 
around the current location to generate several potential positive 
examples. You may be thinking that it is a bad idea because in most of 
these “positive” examples the object is not centered.</p><p>This is 
where Multiple Instance Learning ( MIL ) comes to rescue. In MIL, you do
 not specify positive and negative examples, but positive and negative 
“bags”. The collection of images in the positive bag are not all 
positive examples. Instead, only one image in the positive bag needs to 
be a positive example! In our example, a positive bag contains the patch
 centered on the current location of the object and also patches in a 
small neighborhood around it. Even if the current location of the 
tracked object is not accurate, when samples from the neighborhood of 
the current location are put in the positive bag, there is a good chance
 that this bag contains at least one image in which the object is nicely
 centered. <a href="http://vision.ucsd.edu/%7Ebbabenko/new/project_miltrack.shtml">MIL project page</a> has more information for people who like to dig deeper into the inner workings of the MIL tracker.</p><p><strong>Pros</strong>
 : The performance is pretty good. It does not drift as much as the 
BOOSTING tracker and it does a reasonable job under partial occlusion. 
If you are using OpenCV 3.0, this might be the best tracker available to
 you. But if you are using a higher version, consider KCF.</p><p><strong>Cons</strong> : Tracking failure is not reported reliably. Does not recover from full occlusion.</p><h3>KCF Tracker</h3><p>KFC stands for <strong>Kernelized Correlation Filters</strong>.
 This tracker builds on the ideas presented in the previous two 
trackers. This tracker utilizes that fact that the multiple positive 
samples used in the MIL tracker have large overlapping regions. This 
overlapping data leads to some nice mathematical properties that is 
exploited by this tracker to make tracking faster and more accurate at 
the same time.</p><p><strong>Pros</strong>: Accuracy and speed are both 
better than MIL and it reports tracking failure better than BOOSTING and
 MIL. If you are using OpenCV 3.1 and above, I recommend using this for 
most applications.</p><p><strong>Cons</strong> : Does not recover from full occlusion. Not implemented in OpenCV 3.0.</p><p><strong style="color: red;">Bug Alert</strong> : There is a bug in OpenCV 3.1 ( Python only ) because of which  incorrect bounding boxes are returned. See <a href="https://github.com/opencv/opencv_contrib/issues/640"> bug report </a>. Thanks Andrei Cheremskoy for pointing this out.</p><h3>TLD Tracker</h3><p>TLD stands for <strong>Tracking, learning and detection</strong>.
 As the name suggests, this tracker decomposes the long term tracking 
task into three components — (short term) tracking, learning, and 
detection. From the author’s paper, “The tracker follows the object from
 frame to frame. The detector localizes all appearances that have been 
observed so far and corrects the tracker if necessary. The learning 
estimates detector’s errors and updates it to avoid these errors in the 
future.” This output of this tracker tends to jump around a bit. For 
example, if you are tracking a pedestrian and there are other 
pedestrians in the scene, this tracker can sometimes temporarily track a
 different pedestrian than the one you intended to track. On the 
positive side, this track appears to track an object over a larger 
scale, motion, and occlusion. If you have a video sequence where the 
object is hidden behind another object, this tracker may be a good 
choice.</p><p><strong>Pros</strong> : Works the best under occlusion over multiple frames. Also, tracks best over scale changes.</p><p><strong>Cons</strong> : Lots of false positives making it almost unusable.</p><h3>MEDIANFLOW Tracker</h3><p>Internally,
 this tracker tracks the object in both forward and backward directions 
in time and measures the discrepancies between these two trajectories. 
Minimizing this ForwardBackward error enables them to reliably detect 
tracking failures and select reliable trajectories in video sequences.</p><p>In
 my tests, I found this tracker works best when the motion is 
predictable and small. Unlike, other trackers that keep going even when 
the tracking has clearly failed, this tracker knows when the tracking 
has failed.</p><p><strong>Pros</strong> : Excellent tracking failure reporting. Works very well when the motion is predictable and there is no occlusion.</p><p><strong>Cons</strong> : Fails under large motion.</p><h3>GOTURN tracker</h3><p>Out
 of all the tracking algorithms in the tracker class, this is the only 
one based on Convolutional Neural Network (CNN). It is also the only one
 that uses an offline trained model, because of which it is faster that 
other trackers. From OpenCV documentation, we know it is “robust to 
viewpoint changes, lighting changes, and deformations”. But it does not 
handle occlusion very well.</p><p><strong style="color: red;">Bug Alert</strong> : Unfortunately, at the time of writing this post, there is a <a href="https://github.com/opencv/opencv_contrib/issues/941">bug</a> in the OpenCV 3.2 impelmentation that crashes the program when GOTURN is used.</p><h2 id="download">Subscribe &amp; Download Code</h2><p>If you liked this article and would like to download code (C++ and Python) and example images used in this post, please <a href="https://bigvisionllc.leadpages.net/leadbox/143948b73f72a2%3A173c9390c346dc/5649050225344512/" target="_blank" data-leadbox="https://bigvisionllc.leadpages.net/leadbox/143948b73f72a2%3A173c9390c346dc/5649050225344512/" data-leadbox-id="143948b73f72a2:173c9390c346dc">subscribe</a> to our newsletter. You will also receive a free <a href="https://bigvisionllc.leadpages.net/leadbox/143948b73f72a2%3A173c9390c346dc/5649050225344512/" target="_blank" data-leadbox="https://bigvisionllc.leadpages.net/leadbox/143948b73f72a2%3A173c9390c346dc/5649050225344512/" data-leadbox-id="143948b73f72a2:173c9390c346dc">Computer Vision Resource</a>
 guide. In our newsletter we share OpenCV tutorials and examples written
 in C++/Python, and Computer Vision and Machine Learning algorithms and 
news.</p><p><a style="color: #ffffff; text-decoration: none; font-family: Helvetica, Arial, sans-serif; font-weight: bold; font-size: 16px; line-height: 20px; padding: 10px; display: inline-block; max-width: 300px; border-radius: 5px; text-shadow: rgba(0, 0, 0, 0.247059) 0px -1px 1px; box-shadow: rgba(255, 255, 255, 0.498039) 0px 1px 3px inset, rgba(0, 0, 0, 0.498039) 0px 1px 3px; background: #00aadd;" href="https://bigvisionllc.leadpages.net/leadbox/143948b73f72a2%3A173c9390c346dc/5649050225344512/" target="_blank" data-leadbox="https://bigvisionllc.leadpages.net/leadbox/143948b73f72a2%3A173c9390c346dc/5649050225344512/" data-leadbox-id="143948b73f72a2:173c9390c346dc">Subscribe Now</a></p><p><strong> Video Credits: </strong> All videos used in this post are in the public domain — <a href="https://www.pond5.com/stock-footage/44516099/charlie-chaplin-kid-auto-races-venice-1914.html#1" target="_blank">Charlie Chaplin</a>, <a href="https://pixabay.com/en/videos/car-racing-motor-sports-action-74/" target="_blank">Race Car</a> and <a href="https://pixabay.com/en/videos/street-walk-urban-city-walking-5025/" target="_blank">Street Scene</a>. Dr. Boris Babenko generously gave permission to use his animation in this post.</p></div><footer class="entry-footer"><p class="entry-meta"><span class="entry-categories">Filed Under: <a href="https://www.learnopencv.com/category/application/" rel="category tag">Application</a>, <a href="https://www.learnopencv.com/category/how-to/" rel="category tag">how-to</a>, <a href="https://www.learnopencv.com/category/object-detection/" rel="category tag">Object Detection</a>, <a href="https://www.learnopencv.com/category/opencv-3/" rel="category tag">OpenCV 3</a>, <a href="https://www.learnopencv.com/category/tracking/" rel="category tag">Tracking</a></span> <span class="entry-tags">Tagged With: <a href="https://www.learnopencv.com/tag/boosting/" rel="tag">BOOSTING</a>, <a href="https://www.learnopencv.com/tag/c/" rel="tag">C++</a>, <a href="https://www.learnopencv.com/tag/goturn/" rel="tag">GOTURN</a>, <a href="https://www.learnopencv.com/tag/kcl/" rel="tag">KCL</a>, <a href="https://www.learnopencv.com/tag/medianflow/" rel="tag">MEDIANFLOW</a>, <a href="https://www.learnopencv.com/tag/mil/" rel="tag">MIL</a>, <a href="https://www.learnopencv.com/tag/object-tracking/" rel="tag">object tracking</a>, <a href="https://www.learnopencv.com/tag/opencv-3/" rel="tag">OpenCV 3</a>, <a href="https://www.learnopencv.com/tag/python/" rel="tag">Python</a>, <a href="https://www.learnopencv.com/tag/tld/" rel="tag">TLD</a></span></p></footer></article><div id="disqus_thread"></div></main><aside class="sidebar sidebar-primary widget-area" role="complementary" aria-label="Primary Sidebar" itemscope="" itemtype="https://schema.org/WPSideBar" id="genesis-sidebar-primary"><section id="search-5" class="widget widget_search"><div class="widget-wrap"><form class="search-form" itemprop="potentialAction" itemscope="" itemtype="https://schema.org/SearchAction" method="get" action="https://www.learnopencv.com/" role="search"><meta itemprop="target" content="https://www.learnopencv.com/?s={s}"><label class="search-form-label screen-reader-text" for="searchform-5b2c3cce5fc390.16627668">Search this website</label><input itemprop="query-input" name="s" id="searchform-5b2c3cce5fc390.16627668" placeholder="Search this website …" type="search"><input value="Search" type="submit"></form></div></section><section id="custom_html-9" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><h4 class="widget-title widgettitle">Join Course</h4><div class="textwidget custom-html-widget"><a href="https://courses.learnopencv.com/p/computer-vision-for-faces"> <img alt="Computer Vision for Faces" src="computer-vision-for-faces.png"> </a></div></div></section><section id="custom_html-13" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><h4 class="widget-title widgettitle">FREE COURSE</h4><div class="textwidget custom-html-widget"><a href="https://courses.learnopencv.com/p/opencv-for-beginners" target="_blank" style="background: #4FAEFD; color: rgb(255, 255, 255); text-decoration: none; font-family: Helvetica, Arial, sans-serif; font-weight: bold; font-size: 16px; line-height: 20px; padding: 10px; display: inline-block; max-width: 300px; border-radius: 5px; text-shadow: rgba(0, 0, 0, 0.25) 0px -1px 1px; box-shadow: 
rgba(255, 255, 255, 0.5) 0px 1px 3px inset, rgba(0, 0, 0, 0.5) 0px 1px 3px;">Join OpenCV for Beginners</a></div></div></section><section id="custom_html-7" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><h4 class="widget-title widgettitle">Resources</h4><div class="textwidget custom-html-widget"><a href="https://bigvisionllc.lpages.co/leadbox/143044973f72a2%3A173c9390c346dc/5720147234914304/" target="_blank" style="background: #4FAEFD; color: rgb(255, 255, 255); text-decoration: none; font-family: Helvetica, Arial, sans-serif; font-weight: bold; font-size: 16px; line-height: 20px; padding: 10px; display: inline-block; max-width: 300px; border-radius: 5px; text-shadow: rgba(0, 0, 0, 0.25) 0px -1px 1px; box-shadow: 
rgba(255, 255, 255, 0.5) 0px 1px 3px inset, rgba(0, 0, 0, 0.5) 0px 1px 3px;" data-leadbox="https://bigvisionllc.lpages.co/leadbox/143044973f72a2%3A173c9390c346dc/5720147234914304/" data-leadbox-id="143044973f72a2:173c9390c346dc">Download Code (C++ / Python)</a></div></div></section><section id="text-8" class="widget widget_text"><div class="widget-wrap"><h4 class="widget-title widgettitle">Disclaimer</h4><div class="textwidget"><p>This site is not affiliated with OpenCV.org</p></div></div></section><section id="user-profile-4" class="widget user-profile"><div class="widget-wrap"><p><span class="alignleft"><img alt="" src="708995cd13fb5756f6bc418aecb23b78.jpeg" srcset="https://secure.gravatar.com/avatar/708995cd13fb5756f6bc418aecb23b78?s=250&amp;d=mm&amp;r=g 2x" class="avatar avatar-125 photo" width="125" height="125"></span>I
 am an entrepreneur with a love for Computer Vision and Machine Learning
 with a dozen years of experience (and a Ph.D.) in the field.</p><p>In 
2007, right after finishing my Ph.D.,  I co-founded TAAZ Inc. with my 
advisor Dr. David Kriegman and Kevin Barnes. The scalability, and 
robustness of our computer vision and machine learning algorithms have 
been put to rigorous test by more than 100M users who have tried our 
products. <a class="pagelink" href="https://www.learnopencv.com/about/">Read More…</a></p></div></section><section id="recent-posts-6" class="widget widget_recent_entries"><div class="widget-wrap"><h4 class="widget-title widgettitle">Recent Posts</h4><ul><li> <a href="https://www.learnopencv.com/average-faces-of-fifa-world-cup-2018/">Average Faces of FIFA World Cup 2018</a></li><li> <a href="https://www.learnopencv.com/image-quality-assessment-brisque/">Image Quality Assessment : BRISQUE</a></li><li> <a href="https://www.learnopencv.com/understanding-alexnet/">Understanding AlexNet</a></li><li> <a href="https://www.learnopencv.com/deep-learning-based-text-recognition-ocr-using-tesseract-and-opencv/">Deep Learning based Text Recognition (OCR) using Tesseract and OpenCV</a></li><li> <a href="https://www.learnopencv.com/deep-learning-based-human-pose-estimation-using-opencv-cpp-python/">Deep Learning based Human Pose Estimation using OpenCV ( C++ / Python )</a></li></ul></div></section></aside></div></div><footer class="site-footer" itemscope="" itemtype="https://schema.org/WPFooter"><div class="wrap"><nav class="nav-footer"></nav><p>Copyright ©&nbsp;2018 · Big Vision LLC</p></div></footer></div><script data-leadbox="143948b73f72a2:173c9390c346dc" data-url="https://bigvisionllc.lpages.co/leadbox/143948b73f72a2%3A173c9390c346dc/5649050225344512/" data-config="%7B%7D" type="text/javascript" src="leadbox-1497023128.js"></script><script>if (document.location.protocol != "https:") {document.location = document.URL.replace(/^http:/i, "https:");}</script><script type="text/javascript" src="shCore.js"></script> <script type="text/javascript" src="shBrushCpp.js"></script> <script type="text/javascript" src="shBrushPython.js"></script> <script type="text/javascript">(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://www.learnopencv.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://www.learnopencv.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();</script> <script type="text/javascript">var countVars = {"disqusShortname":"learnopencv"};</script> <script type="text/javascript">var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.16"},"disqusIdentifier":"3520 https:\/\/www.learnopencv.com\/?p=3520","disqusShortname":"learnopencv","disqusTitle":"Object Tracking using OpenCV (C++\/Python)","disqusUrl":"https:\/\/www.learnopencv.com\/object-tracking-using-opencv-cpp-python\/","postId":"3520"};</script> <script type="text/javascript" defer="defer" src="autoptimize_723c71a9c267f271bca8f64b359dea62.js"></script>



<div style="position: absolute; right: 0px; left: 0px; bottom: 0px; top: 0px; z-index: 2147483646; background: black none repeat scroll 0% 0%; width: 100%; opacity: 0.5; display: none; height: 17097px;"></div><iframe src="https://bigvisionllc.leadpages.net/leadbox/143948b73f72a2%3A173c9390c346dc/5649050225344512/?lp-in-iframe=1&amp;__fromjs=1" style="position: absolute; left: 0px; top: 0px; width: 100%; display: none; border: medium none; z-index: 2147483647; height: 932px;"></iframe><iframe src="https://bigvisionllc.lpages.co/leadbox/143044973f72a2%3A173c9390c346dc/5720147234914304/?lp-in-iframe=1&amp;__fromjs=1" style="position: absolute; left: 0px; top: 0px; width: 100%; display: none; border: medium none; z-index: 2147483647; height: 932px;"></iframe><iframe src="https://bigvisionllc.lpages.co/leadbox/143948b73f72a2%3A173c9390c346dc/5649050225344512/?lp-in-iframe=1&amp;__fromjs=1" style="position: absolute; left: 0px; top: 0px; width: 100%; display: none; border: medium none; z-index: 2147483647; height: 932px;"></iframe><div style="position: absolute; right: 0px; left: 0px; bottom: 0px; top: 0px; z-index: 2147483646; background: black none repeat scroll 0% 0%; width: 100%; opacity: 0.5; display: none; height: 15724px;"></div><iframe src="https://bigvisionllc.leadpages.net/leadbox/143948b73f72a2%3A173c9390c346dc/5649050225344512/?lp-in-iframe=1&amp;__fromjs=1" style="position: absolute; left: 0px; top: 0px; width: 100%; display: none; border: medium none; z-index: 2147483647; height: 1599px;"></iframe><iframe src="https://bigvisionllc.lpages.co/leadbox/143044973f72a2%3A173c9390c346dc/5720147234914304/?lp-in-iframe=1&amp;__fromjs=1" style="position: absolute; left: 0px; top: 0px; width: 100%; display: none; border: medium none; z-index: 2147483647; height: 1599px;"></iframe><iframe src="https://bigvisionllc.lpages.co/leadbox/143948b73f72a2%3A173c9390c346dc/5649050225344512/?lp-in-iframe=1&amp;__fromjs=1" style="position: absolute; left: 0px; top: 0px; width: 100%; display: none; border: medium none; z-index: 2147483647; height: 1599px;"></iframe></body></html>