define("kg/detail-item-recommend/0.0.10/lib/c/heart-election/tpl/draw.xtpl",["kg/xtemplate/4.5.0/runtime"],function(e,a,s){"use strict";var l=e("kg/xtemplate/4.5.0/runtime");s.exports=function(){var e=new l(function(e){function a(e,a,s){var l=e.data,t=e.affix;a.data+='<span class="price">';var r=(n=t.price)!==s?n:(n=l.price)!==s?n:e.resolveLooseUp(["price"]);return a=a.writeEscaped(r),a.data+="</span>",a}function s(e,s,l){var t=e.data,i=e.affix;s.data+='\n            <dd>\n              &yen;<span class="special">',o.line=15;var d=(n=i.special)!==l?n:(n=t.special)!==l?n:e.resolveLooseUp(["special"]);s=s.writeEscaped(d),s.data+="</span>\n              ",o.line=16;var c=(n=i.special)!==l?n:(n=t.special)!==l?n:e.resolveLooseUp(["special"]),p=c,v=(n=i.price)!==l?n:(n=t.price)!==l?n:e.resolveLooseUp(["price"]);return p=c!==v,s=w.call(r,e,{params:[p],fn:a},s),s.data+="\n            </dd>\n          ",s}function l(e,a,l){var t=e.data,i=e.affix;a.data+='\n      <div class="product-info ',o.line=8;var d=(n=i.cls)!==l?n:(n=t.cls)!==l?n:e.resolveLooseUp(["cls"]);a=a.writeEscaped(d),a.data+='">\n        <div class="draw-bg"></div>\n        <dl class="rain-left">\n          <dt><img src="',o.line=11;var c=(n=i.img)!==l?n:(n=t.img)!==l?n:e.resolveLooseUp(["img"]);a=a.writeEscaped(c),a.data+='"></dt>\n          <dd class="title">',o.line=12;var p=(n=i.title)!==l?n:(n=t.title)!==l?n:e.resolveLooseUp(["title"]);a=a.writeEscaped(p),a.data+="</dd>\n          ",o.line=13,o.line=13;var v=(n=i.special)!==l?n:(n=t.special)!==l?n:e.resolveLooseUp(["special"]),f=v;return f="-1"!==v,a=w.call(r,e,{params:[f],fn:s},a),a.data+="\n        </dl>\n      </div>\n      ",a}function t(e,a,s){var t=e.data,i=e.affix;a.data+='\n    <a target="_blank" style="',o.line=5;var d=(n=i.style)!==s?n:(n=t.style)!==s?n:e.resolveLooseUp(["style"]);a=a.writeEscaped(d),a.data+='" href="';var c=(n=i.link)!==s?n:(n=t.link)!==s?n:e.resolveLooseUp(["link"]);a=a.writeEscaped(c),a.data+='" class="mask">\n      <em><s></s></em>\n      ',o.line=7,o.line=7;var p=(n=i.cls)!==s?n:(n=t.cls)!==s?n:e.resolveLooseUp(["cls"]),v=p;return v="content default"!==p,a=w.call(r,e,{params:[v],fn:l},a),a.data+="\n    </a>\n    ",a}var n,r=this,i=r.root,d=r.buffer,c=r.scope,o=(r.runtime,r.name,r.pos),p=c.data,v=c.affix,f=i.nativeCommands,m=i.utils,u=(m.callFn,m.callDataFn,m.callCommand,f.range,f["void"],f.foreach,f.forin,f.each),w=(f["with"],f["if"]);f.set,f.include,f.parse,f.extend,f.block,f.macro,f["debugger"];d.data+='<div data-spm="1998246703" class="tad-heart-election">\n  <div style="',o.line=2;var L=(n=v.style)!==e?n:(n=p.style)!==e?n:c.resolveLooseUp(["style"]);d=d.writeEscaped(L),d.data+='" class="rain-draw">\n    <div style="',o.line=3;var U=(n=v.style)!==e?n:(n=p.style)!==e?n:c.resolveLooseUp(["style"]);d=d.writeEscaped(U),d.data+='" class="';var y=(n=v.cls)!==e?n:(n=p.cls)!==e?n:c.resolveLooseUp(["cls"]);d=d.writeEscaped(y),d.data+='">\n    ',o.line=4,o.line=4;var g=(n=v.data)!==e?n:(n=p.data)!==e?n:c.resolveLooseUp(["data"]);return d=u.call(r,c,{params:[g],fn:t},d),d.data+="\n    </div>\n  </div>\n</div>\n",d});return e.render.apply(e,arguments)}});define("kg/detail-item-recommend/0.0.10/lib/c/heart-election/tpl/swaps.xtpl",["kg/xtemplate/4.5.0/runtime"],function(a,e,i){"use strict";var n=a("kg/xtemplate/4.5.0/runtime");i.exports=function(){var a=new n(function(a){function e(a,e,i){var n=a.data,r=a.affix;e.data+='<span class="price">';var l=(t=r.price)!==i?t:(t=n.price)!==i?t:a.resolveLooseUp(["price"]);return e=e.writeEscaped(l),e.data+="</span>",e}function i(a,i,n){var l=a.data,s=a.affix;i.data+='\n            <div class="special">&yen;',p.line=12;var c=(t=s.special)!==n?t:(t=l.special)!==n?t:a.resolveLooseUp(["special"]);i=i.writeEscaped(c),i.data+="\n            ",p.line=13;var o=(t=s.special)!==n?t:(t=l.special)!==n?t:a.resolveLooseUp(["special"]),d=o,v=(t=s.price)!==n?t:(t=l.price)!==n?t:a.resolveLooseUp(["price"]);return d=o!==v,i=u.call(r,a,{params:[d],fn:e},i),i.data+="\n            </div>\n          ",i}function n(a,e,n){var l=a.data,s=a.affix;e.data+='\n    <div class="wrap">\n      <a href="',p.line=8;var c=(t=s.link)!==n?t:(t=l.link)!==n?t:a.resolveLooseUp(["link"]);e=e.writeEscaped(c),e.data+='" target="_blank">\n        <img src="',p.line=9;var o=(t=s.img)!==n?t:(t=l.img)!==n?t:a.resolveLooseUp(["img"]);e=e.writeEscaped(o),e.data+='_170x170.jpg" alt="">\n        <div class="rain-product-info">\n          ',p.line=11,p.line=11;var d=(t=s.special)!==n?t:(t=l.special)!==n?t:a.resolveLooseUp(["special"]),v=d;v="-1"!==d,e=u.call(r,a,{params:[v],fn:i},e),e.data+='\n          <div class="title">',p.line=16;var f=(t=s.title)!==n?t:(t=l.title)!==n?t:a.resolveLooseUp(["title"]);return e=e.writeEscaped(f),e.data+="</div>\n        </div>\n      </a>\n    </div>\n    ",e}var t,r=this,l=r.root,s=r.buffer,c=r.scope,p=(r.runtime,r.name,r.pos),o=c.data,d=c.affix,v=l.nativeCommands,f=l.utils,m=(f.callFn,f.callDataFn,f.callCommand,v.range,v["void"],v.foreach,v.forin,v.each),u=(v["with"],v["if"]);v.set,v.include,v.parse,v.extend,v.block,v.macro,v["debugger"];s.data+='<div data-spm="1998246703" class="tad-heart-election">\n  <h3>\n    \u8de8\u5e97\u63a8\u8350<span><em>\u4eb2\uff0c\u4ee5\u4e0b\u63a8\u8350\u7684\u5b9d\u8d1d\u5747\u4e3a\u5176\u5b83\u5e97\u94fa\u7684\u5b9d\u8d1d\uff0c\u5982\u679c\u559c\u6b22\uff0c\u53ef\u4ee5\u70b9\u51fb\u5230\u76f8\u5e94\u7684\u5e97\u94fa\u5411\u638c\u67dc\u54a8\u8be2\u8d2d\u4e70\u54e6\uff01</em></span>\n  </h3>\n  <div class="rain-photo g-1-6">\n    ',p.line=6,p.line=6;var g=(t=d.data)!==a?t:(t=o.data)!==a?t:c.resolveLooseUp(["data"]);return s=m.call(r,c,{params:[g],fn:n},s),s.data+="\n  </div>\n</div>\n",s});return a.render.apply(a,arguments)}});define("kg/detail-item-recommend/0.0.10/lib/c/heart-election/tpl/photo.xtpl",["kg/xtemplate/4.5.0/runtime"],function(a,e,n){"use strict";var i=a("kg/xtemplate/4.5.0/runtime");n.exports=function(){var a=new i(function(a){function e(a,e,n){var i=a.data,l=a.affix;e.data+='\n                    <img class="icon-promotion" src="',f.line=15;var s=(t=l.icons)!==n?null!=t?c=t.iconPcSmall:t:(t=i.icons)!==n?null!=t?c=t.iconPcSmall:t:a.resolveLooseUp(["icons","iconPcSmall"]);return e=e.writeEscaped(s),e.data+='">\n                    ',e}function n(a,e,n){var i=a.data,l=a.affix;e.data+="";var s=(t=l.price)!==n?t:(t=i.price)!==n?t:a.resolveLooseUp(["price"]);return e=e.writeEscaped(s),e.data+="",e}function i(a,e,n){var i=a.data,l=a.affix;e.data+="";var s=(t=l.special)!==n?t:(t=i.special)!==n?t:a.resolveLooseUp(["special"]);return e=e.writeEscaped(s),e.data+="",e}function l(a,e,n){var i=a.data,l=a.affix;e.data+='\n                    <span class="original"><span class="yen">&yen;</span>',f.line=26;var s=(t=l.price)!==n?t:(t=i.price)!==n?t:a.resolveLooseUp(["price"]);return e=e.writeEscaped(s),e.data+="</span>\n                    ",e}function s(a,e,s){var r=a.data,c=a.affix;e.data+='\n                <div class="price">\n                    <span class="special">\n                        <span class="yen">&yen;</span>',f.line=23;var p=(t=c.special)!==s?t:(t=r.special)!==s?t:a.resolveLooseUp(["special"]),d=p;d="0.0"===p,e=w.call(o,a,{params:[d],fn:n,inverse:i},e),e.data+="\n                    </span>\n                    ",f.line=25,f.line=25;var v=(t=c.special)!==s?t:(t=r.special)!==s?t:a.resolveLooseUp(["special"]),m=v,u=(t=c.price)!==s?t:(t=r.price)!==s?t:a.resolveLooseUp(["price"]);m=v!==u;var L=m;if(L){var U=(t=c.special)!==s?t:(t=r.special)!==s?t:a.resolveLooseUp(["special"]),g=U;g="0.0"!==U,L=g}return e=w.call(o,a,{params:[L],fn:l},e),e.data+="\n                </div>\n                ",e}function r(a,n,i){var l=a.data,r=a.affix;n.data+='\n        <div class="wrap">\n            <a href="',f.line=7;var p=(t=r.link)!==i?t:(t=l.link)!==i?t:a.resolveLooseUp(["link"]);n=n.writeEscaped(p),n.data+='" target="_blank">\n\n                <div class="img-wrap">\n                    <img src="',f.line=10;var d=(t=r.img)!==i?t:(t=l.img)!==i?t:a.resolveLooseUp(["img"]);n=n.writeEscaped(d),n.data+='" alt="';var v=(t=r.title)!==i?t:(t=l.title)!==i?t:a.resolveLooseUp(["title"]);n=n.writeEscaped(v),n.data+='">\n                </div>\n\n                <div class="title">\n                    ',f.line=14,f.line=14;var m=(t=r.icons)!==i?t:(t=l.icons)!==i?t:a.resolveLooseUp(["icons"]),u=m;if(u){var L=(t=r.icons)!==i?null!=t?c=t.iconPcSmall:t:(t=l.icons)!==i?null!=t?c=t.iconPcSmall:t:a.resolveLooseUp(["icons","iconPcSmall"]);u=L}var U=u;if(U){var g=(t=r.icons)!==i?null!=t?c=t.iconPcSmall:t:(t=l.icons)!==i?null!=t?c=t.iconPcSmall:t:a.resolveLooseUp(["icons","iconPcSmall"]),x=g;x=""!==g,U=x}n=w.call(o,a,{params:[U],fn:e},n),n.data+="\n                    <span>",f.line=17;var E=(t=r.title)!==i?t:(t=l.title)!==i?t:a.resolveLooseUp(["title"]);n=n.writeEscaped(E),n.data+="</span>\n                </div>\n\n                ",f.line=20,f.line=20;var h=(t=r.special)!==i?t:(t=l.special)!==i?t:a.resolveLooseUp(["special"]),y=h;return y="-1"!==h,n=w.call(o,a,{params:[y],fn:s},n),n.data+="\n            </a>\n        </div>\n        ",n}var t,c,o=this,p=o.root,d=o.buffer,v=o.scope,f=(o.runtime,o.name,o.pos),m=v.data,u=v.affix,L=p.nativeCommands,U=p.utils,g=(U.callFn,U.callDataFn,U.callCommand,L.range,L["void"],L.foreach,L.forin,L.each),w=(L["with"],L["if"]);L.set,L.include,L.parse,L.extend,L.block,L.macro,L["debugger"];d.data+='<!-- \u5fc3\u9009\u81ea\u5b9a\u4e49\u8ba1\u5212\u6a21\u677f -->\n\n<div data-spm="1998246703" class="tad-heart-election tab-heart-defualt">\n    <div style="',f.line=4;var x=(t=u.style)!==a?t:(t=m.style)!==a?t:v.resolveLooseUp(["style"]);d=d.writeEscaped(x),d.data+='" class="';var E=(t=u.cls)!==a?t:(t=m.cls)!==a?t:v.resolveLooseUp(["cls"]);d=d.writeEscaped(E),d.data+='">\n        ',f.line=5,f.line=5;var h=(t=u.data)!==a?t:(t=m.data)!==a?t:v.resolveLooseUp(["data"]);return d=g.call(o,v,{params:[h],fn:r},d),d.data+="\n    </div>\n</div>\n",d});return a.render.apply(a,arguments)}});define("kg/detail-item-recommend/0.0.10/lib/c/heart-election/tpl/recommend.xtpl",["kg/xtemplate/4.5.0/runtime"],function(a,e,n){"use strict";var i=a("kg/xtemplate/4.5.0/runtime");n.exports=function(){var a=new i(function(a){function e(a,e,n){var i=a.data,l=a.affix;e.data+='\n                    <img class="icon-promotion" src="',f.line=12;var s=(c=l.icons)!==n?null!=c?t=c.iconPcSmall:c:(c=i.icons)!==n?null!=c?t=c.iconPcSmall:c:a.resolveLooseUp(["icons","iconPcSmall"]);return e=e.writeEscaped(s),e.data+='">\n                    ',e}function n(a,e,n){var i=a.data,l=a.affix;e.data+="";var s=(c=l.price)!==n?c:(c=i.price)!==n?c:a.resolveLooseUp(["price"]);return e=e.writeEscaped(s),e.data+="",e}function i(a,e,n){var i=a.data,l=a.affix;e.data+="";var s=(c=l.special)!==n?c:(c=i.special)!==n?c:a.resolveLooseUp(["special"]);return e=e.writeEscaped(s),e.data+="",e}function l(a,e,n){var i=a.data,l=a.affix;e.data+='\n                    <span class="original"><span class="yen">&yen;</span>',f.line=23;var s=(c=l.price)!==n?c:(c=i.price)!==n?c:a.resolveLooseUp(["price"]);return e=e.writeEscaped(s),e.data+="</span>\n                    ",e}function s(a,e,s){var r=a.data,t=a.affix;e.data+='\n                <div class="price">\n                    <span class="special">\n                        <span class="yen">&yen;</span>',f.line=20;var p=(c=t.special)!==s?c:(c=r.special)!==s?c:a.resolveLooseUp(["special"]),d=p;d="0.0"===p,e=x.call(o,a,{params:[d],fn:n,inverse:i},e),e.data+="\n                    </span>\n                    ",f.line=22,f.line=22;var v=(c=t.special)!==s?c:(c=r.special)!==s?c:a.resolveLooseUp(["special"]),m=v,u=(c=t.price)!==s?c:(c=r.price)!==s?c:a.resolveLooseUp(["price"]);m=v!==u;var L=m;if(L){var U=(c=t.special)!==s?c:(c=r.special)!==s?c:a.resolveLooseUp(["special"]),g=U;g="0.0"!==U,L=g}return e=x.call(o,a,{params:[L],fn:l},e),e.data+="\n                </div>\n                ",e}function r(a,n,i){var l=a.data,r=a.affix;n.data+='\n        <div class="wrap">\n            <a href="',f.line=6;var p=(c=r.link)!==i?c:(c=l.link)!==i?c:a.resolveLooseUp(["link"]);n=n.writeEscaped(p),n.data+='" target="_blank">\n                <div class="img-wrap">\n                    <img src="',f.line=8;var d=(c=r.img)!==i?c:(c=l.img)!==i?c:a.resolveLooseUp(["img"]);n=n.writeEscaped(d),n.data+='_170x170.jpg" alt="';var v=(c=r.title)!==i?c:(c=l.title)!==i?c:a.resolveLooseUp(["title"]);n=n.writeEscaped(v),n.data+='">\n                </div>\n                <div class="title">\n                    ',f.line=11,f.line=11;var m=(c=r.icons)!==i?c:(c=l.icons)!==i?c:a.resolveLooseUp(["icons"]),u=m;if(u){var L=(c=r.icons)!==i?null!=c?t=c.iconPcSmall:c:(c=l.icons)!==i?null!=c?t=c.iconPcSmall:c:a.resolveLooseUp(["icons","iconPcSmall"]);u=L}var U=u;if(U){var g=(c=r.icons)!==i?null!=c?t=c.iconPcSmall:c:(c=l.icons)!==i?null!=c?t=c.iconPcSmall:c:a.resolveLooseUp(["icons","iconPcSmall"]),w=g;w=""!==g,U=w}n=x.call(o,a,{params:[U],fn:e},n),n.data+="\n                    <span>",f.line=14;var h=(c=r.title)!==i?c:(c=l.title)!==i?c:a.resolveLooseUp(["title"]);n=n.writeEscaped(h),n.data+="</span>\n                </div>\n\n                ",f.line=17,f.line=17;var P=(c=r.special)!==i?c:(c=l.special)!==i?c:a.resolveLooseUp(["special"]),S=P;return S="-1"!==P,n=x.call(o,a,{params:[S],fn:s},n),n.data+="\n            </a>\n        </div>\n        ",n}var c,t,o=this,p=o.root,d=o.buffer,v=o.scope,f=(o.runtime,o.name,o.pos),m=v.data,u=v.affix,L=p.nativeCommands,U=p.utils,g=(U.callFn,U.callDataFn,U.callCommand,L.range,L["void"],L.foreach,L.forin,L.each),x=(L["with"],L["if"]);L.set,L.include,L.parse,L.extend,L.block,L.macro,L["debugger"];d.data+='<!-- \u63a8\u8350\u8ba1\u5212\u6a21\u677f -->\n<div data-spm="1998246701" class="tad-heart-election tab-heart-tuijian">\n    <div class="rain-photo g-1-6">\n        ',f.line=4,f.line=4;var w=(c=u.data)!==a?c:(c=m.data)!==a?c:v.resolveLooseUp(["data"]);return d=g.call(o,v,{params:[w],fn:r},d),d.data+="\n    </div>\n</div>\n",d});return a.render.apply(a,arguments)}});define("kg/detail-item-recommend/0.0.10/lib/c/heart-election/tpl/recom.xtpl",["kg/xtemplate/4.5.0/runtime"],function(e,a,i){"use strict";var l=e("kg/xtemplate/4.5.0/runtime");i.exports=function(){var e=new l(function(e){function a(e,a,i){var l=e.data,t=e.affix;a.data+='\n              <span class="price">',o.line=13;var s=(n=t.price)!==i?n:(n=l.price)!==i?n:e.resolveLooseUp(["price"]);return a=a.writeEscaped(s),a.data+="</span>\n            ",a}function i(e,i,l){var s=e.data,r=e.affix;i.data+='\n            <div class="special">\n            &yen;',o.line=11;var c=(n=r.special)!==l?n:(n=s.special)!==l?n:e.resolveLooseUp(["special"]);i=i.writeEscaped(c),i.data+="\n            ",o.line=12,o.line=12;var p=(n=r.special)!==l?n:(n=s.special)!==l?n:e.resolveLooseUp(["special"]),d=p,v=(n=r.price)!==l?n:(n=s.price)!==l?n:e.resolveLooseUp(["price"]);return d=p!==v,i=u.call(t,e,{params:[d],fn:a},i),i.data+="\n            </div>\n          ",i}function l(e,a,l){var s=e.data,r=e.affix;a.data+='\n    <li class="',o.line=5;var c=(n=r.cls)!==l?n:(n=s.cls)!==l?n:e.resolveLooseUp(["cls"]);a=a.writeEscaped(c),a.data+='">\n      <a href="',o.line=6;var p=(n=r.link)!==l?n:(n=s.link)!==l?n:e.resolveLooseUp(["link"]);a=a.writeEscaped(p),a.data+='" target="_blank">\n        <img src="',o.line=7;var d=(n=r.img)!==l?n:(n=s.img)!==l?n:e.resolveLooseUp(["img"]);a=a.writeEscaped(d),a.data+='" alt="">\n        <div class="rain-product-info">\n          ',o.line=9,o.line=9;var v=(n=r.special)!==l?n:(n=s.special)!==l?n:e.resolveLooseUp(["special"]),f=v;f=v!==-1,a=u.call(t,e,{params:[f],fn:i},a),a.data+='\n          <div class="title">',o.line=17;var m=(n=r.title)!==l?n:(n=s.title)!==l?n:e.resolveLooseUp(["title"]);return a=a.writeEscaped(m),a.data+="</div>\n        </div>\n      </a>\n    </li>\n    ",a}var n,t=this,s=t.root,r=t.buffer,c=t.scope,o=(t.runtime,t.name,t.pos),p=c.data,d=c.affix,v=s.nativeCommands,f=s.utils,m=(f.callFn,f.callDataFn,f.callCommand,v.range,v["void"],v.foreach,v.forin,v.each),u=(v["with"],v["if"]);v.set,v.include,v.parse,v.extend,v.block,v.macro,v["debugger"];r.data+='<div data-spm="1998246703" class="tad-heart-election">\n  <div style="',o.line=2;var L=(n=d.style)!==e?n:(n=p.style)!==e?n:c.resolveLooseUp(["style"]);r=r.writeEscaped(L),r.data+='" class="';var U=(n=d.cls)!==e?n:(n=p.cls)!==e?n:c.resolveLooseUp(["cls"]);r=r.writeEscaped(U),r.data+='">\n    <ul class="rain-left">\n    ',o.line=4,o.line=4;var g=(n=d.data)!==e?n:(n=p.data)!==e?n:c.resolveLooseUp(["data"]);return r=m.call(t,c,{params:[g],fn:l},r),r.data+="\n    </ul>\n  </div>\n</div>\n",r});return e.render.apply(e,arguments)}});define("kg/detail-item-recommend/0.0.10/lib/c/matching-combo/page",["node","dom","ua"],function(a,e,t){function n(a){g=(new Date).valueOf(),g-l>s?a():o.later(function(){a()},s+l-g)}function i(a){var e=this;e.dataBox=d.get(a.dataBox),e.pageBox=d.get(a.pageBox),e.meals=a.meals,e.dataBox&&e.pageBox&&(e.api=a.api,e.activePageIndex=0,e.cache=[],e.indicator=null,e.pagers=c.all(".J_Pager",d.next(e.dataBox)),e.currentPage=d.get(".tb-current",e.pageBox),e.maxPageIndex=parseInt(d.attr(e.pageBox,"data-max-page"),10)-1,e._init())}var o=KISSY,c=a("node"),d=a("dom"),r=a("ua"),s=300,l=0,g=0,u="tb-hidden",h=c.all("body");o.mix(i.prototype,{_init:function(){var a=this;a.cache.push(a.dataBox.innerHTML),a.pagers.on("click",function(e){e.preventDefault();var t=this;r.ie<8&&(t.hideFocus=!0),a._clickHandler(t),window.DT&&"function"==typeof DT.sendClick&&DT.sendClick("12.20."+(d.parent(t,".tb-mjs")?"1":"0"))})},_getCurrentPageIndex:function(a){var e,t=this;return e=d.hasClass(a,"J_Prev")?t.activePageIndex-1:d.hasClass(a,"J_Next")?t.activePageIndex+1:parseInt(d.attr(a,"data-index"),10),e>t.maxPageIndex?e=0:e<0&&(e=t.maxPageIndex),e},_getCurrentPageItem:function(a){return this.meals[a]},_changeCurrent:function(a){d.html(this.currentPage,a+1)},_clickHandler:function(a){var e,t,i=this,o=i._getCurrentPageIndex(a);if(o!==i.activePageIndex)if(i.activePageIndex=o,e=i.cache[o],t=i._getCurrentPageItem(o),l=(new Date).valueOf(),i._showIndicator(),e)n(function(){i._changeCurrent(o),i.dataBox.innerHTML=e,i._hideIndicator()});else{var c=i.api+"&page="+o+"&mealdata="+encodeURIComponent(t);h.fire("load",{api:c}),h.detach("loadsuccess"),h.detach("loaderror"),h.on("loadsuccess",function(){n(function(){i._hideIndicator(),i._changeCurrent(o),i.cache[o]=i.dataBox.innerHTML})}),h.on("loaderror",function(){i._hideIndicator()})}},_addIndicator:function(){var a=d.create('<div class="tb-indicator" style="visibility: hidden;"><p class="tb-indicator-mask"></p><p class="tb-indicator-msg"><img src="//assets.alicdn.com/mw/base/styles/component/more/images/loading.gif" /></p></div>');this.dataBox.parentNode.appendChild(a),this.indicator=a;var e=this;o.later(function(){6===r.ie&&(d.addClass(a,"tb-indicator-ie6"),d.css(a,"width","165px"),d.css(a,"height","45px"),d.css(a,"top",d.hasClass(e.dataBox,"tb-combo-data")?"55px":"25px")),d.css(a,"visibility","visible")},0)},_showIndicator:function(){var a=this;a.indicator?d.removeClass(a.indicator,u):a._addIndicator()},_hideIndicator:function(){d.addClass(this.indicator,u)}}),t.exports=i});define("kg/detail-item-recommend/0.0.10/lib/c/matching-combo/tpl/combo.xtpl",["kg/xtemplate/4.5.0/runtime"],function(e,a,n){"use strict";var l=e("kg/xtemplate/4.5.0/runtime");n.exports=function(){var e=new l(function(e){function a(e,a,n){var m=e.data,i=e.affix;a.data+='\n    <div class="tb-pagination" id="J_BundlePage" data-max-page="',d.line=7;var r=(l=i.mealComponentBO)!==n?null!=l?null!=(t=l.meals)?o=t.length:t:l:(l=m.mealComponentBO)!==n?null!=l?null!=(t=l.meals)?o=t.length:t:l:e.resolveLooseUp(["mealComponentBO","meals","length"]);a=a.writeEscaped(r),a.data+='">\n      <a href="#" class="J_Next tb-next J_Pager">\u4e0b\u4e00\u9875</a>\n      <div class="tb-page-indicator">\n        <span class="tb-current">1</span>/',d.line=10;var s=(l=i.mealComponentBO)!==n?null!=l?null!=(t=l.meals)?o=t.length:t:l:(l=m.mealComponentBO)!==n?null!=l?null!=(t=l.meals)?o=t.length:t:l:e.resolveLooseUp(["mealComponentBO","meals","length"]);return a=a.writeEscaped(s),a.data+='\n      </div>\n      <a href="#" class="J_Prev tb-prev J_Pager">\u4e0a\u4e00\u9875</a>\n    </div>\n    ',a}function n(e,n,o){var i=e.data,r=e.affix;n.data+='\n  <div class="tb-bundle">\n    <div id="J_BundleData" class="tb-bundle-data">\n    </div>\n    ',d.line=6,d.line=6;var s=(l=r.mealComponentBO)!==o?null!=l?t=l.meals:l:(l=i.mealComponentBO)!==o?null!=l?t=l.meals:l:e.resolveLooseUp(["mealComponentBO","meals"]);return n=f.call(m,e,{params:[s],fn:a},n),n.data+="\n  </div>\n  ",n}var l,t,o,m=this,i=m.root,r=m.buffer,s=m.scope,d=(m.runtime,m.name,m.pos),p=s.data,c=s.affix,u=i.nativeCommands,v=i.utils,f=(v.callFn,v.callDataFn,v.callCommand,u.range,u["void"],u.foreach,u.forin,u.each,u["with"],u["if"]);u.set,u.include,u.parse,u.extend,u.block,u.macro,u["debugger"];r.data+='<div id="matching-combo">\n  ',d.line=2,d.line=2;var g=(l=c.mealComponentBO)!==e?l:(l=p.mealComponentBO)!==e?l:s.resolveLooseUp(["mealComponentBO"]);return r=f.call(m,s,{params:[g],fn:n},r),r.data+="\n</div>\n",r});return e.render.apply(e,arguments)}});define("kg/detail-item-recommend/0.0.10/lib/c/matching-combo/tpl/comboItem.xtpl",["kg/xtemplate/4.5.0/runtime"],function(e,a,n){"use strict";var t=e("kg/xtemplate/4.5.0/runtime");n.exports=function(){var e=new t(function(e){function a(e,a,n){e.data,e.affix;return a.data+='class="tb-main" ',a}function n(e,a,n){e.data,e.affix;return a.data+='class="tb-empty" ',a}function t(e,a,n){e.data,e.affix;return a.data+='\n    <div class="tb-pic tb-s80 tb-empty-pic">\n      <img src="//img.alicdn.com/tps/i1/T1aIR3XohnXXXXXXXX-80-80.png" alt="\u7a7a\u56fe\u7247"/>\n    </div>\n    ',a}function l(e,a,n){var t=e.data,l=e.affix;a.data+='\n    <div class="tb-pic tb-s80">\n      <a href="',U.line=11;var o=(c=l.itemUrl)!==n?c:(c=t.itemUrl)!==n?c:e.resolveLooseUp(["itemUrl"]);a=a.writeEscaped(o),a.data+='" target="_blank"><img src="';var m=(c=l.picImgUrl)!==n?c:(c=t.picImgUrl)!==n?c:e.resolveLooseUp(["picImgUrl"]);a=a.writeEscaped(m),a.data+='_80x80.jpg" alt="';var r=(c=l.itemTitle)!==n?c:(c=t.itemTitle)!==n?c:e.resolveLooseUp(["itemTitle"]);a=a.writeEscaped(r),a.data+='" /></a>\n    </div>\n    <a href="',U.line=13;var i=(c=l.itemUrl)!==n?c:(c=t.itemUrl)!==n?c:e.resolveLooseUp(["itemUrl"]);a=a.writeEscaped(i),a.data+='" target="_blank" class="tb-title" title="';var s=(c=l.itemTitle)!==n?c:(c=t.itemTitle)!==n?c:e.resolveLooseUp(["itemTitle"]);a=a.writeEscaped(s),a.data+='">';var p=(c=l.itemTitle)!==n?c:(c=t.itemTitle)!==n?c:e.resolveLooseUp(["itemTitle"]);a=a.writeEscaped(p),a.data+='</a>\n    <em class="tb-price">\u4ef7\u683c\uff1a<em class="tb-rmb">&yen;</em>',U.line=14;var d=(c=l.reservePrice)!==n?c:(c=t.reservePrice)!==n?c:e.resolveLooseUp(["reservePrice"]);return a=a.writeEscaped(d),a.data+="<!--329.00--></em>\n    ",a}function o(e,o,m){var r=e.data,i=e.affix;o.data+="\n  <li ",U.line=4;var s=(c=i.xindex)!==m?c:(c=r.xindex)!==m?c:e.resolveLooseUp(["xindex"]),p=s;p=0===s,o=g.call(v,e,{params:[p],fn:a},o),o.data+="";var d=(c=i.itemId)!==m?c:(c=r.itemId)!==m?c:e.resolveLooseUp(["itemId"]),f=d;f=0===d,o=g.call(v,e,{params:[f],fn:n},o),o.data+=" >\n    ",U.line=5,U.line=5;var u=(c=i.itemId)!==m?c:(c=r.itemId)!==m?c:e.resolveLooseUp(["itemId"]),b=u;return b=0===u,o=g.call(v,e,{params:[b],fn:t,inverse:l},o),o.data+="\n  </li>\n  ",o}function m(e,a,n){var t=e.data,l=e.affix;a.data+='\n    <!-- \u8001\u642d\u914d -->\n    <p class="tb-total">\n      <span>\u5957\u9910\u4ef7\u683c\uff1a</span>\n      <em class="tb-rmb">&yen;</em><em>',U.line=24;var o=(c=l.mealComponentBO)!==n?null!=c?d=c.mealPriceMoney:c:(c=t.mealComponentBO)!==n?null!=c?d=c.mealPriceMoney:c:e.resolveLooseUp(["mealComponentBO","mealPriceMoney"]);a=a.writeEscaped(o),a.data+='</em>\n    </p>\n    <p class="tb-save">\n      <span>\u8282\u7701\uff1a</span>\n      <em class="tb-rmb">&yen;</em><em>',U.line=28;var m=(c=l.mealComponentBO)!==n?null!=c?d=c.saveMoney:c:(c=t.mealComponentBO)!==n?null!=c?d=c.saveMoney:c:e.resolveLooseUp(["mealComponentBO","saveMoney"]);return a=a.writeEscaped(m),a.data+="</em>\n    </p>\n  ",a}function r(e,a,n){var t=e.data,l=e.affix;a.data+='\n    <p class="tb-save">\n      <span>\u6700\u591a\u8282\u7701\uff1a</span>\n      <em class="tb-rmb">&yen;</em><em>',U.line=39;var o=(c=l.mealComponentBO)!==n?null!=c?d=c.saveMoney:c:(c=t.mealComponentBO)!==n?null!=c?d=c.saveMoney:c:e.resolveLooseUp(["mealComponentBO","saveMoney"]);return a=a.writeEscaped(o),a.data+="</em>\n    </p>\n  ",a}function i(e,a,n){var t=e.data,l=e.affix;U.line=30;var o=(c=l.mealComponentBO)!==n?null!=c?d=c.saveMoney:c:(c=t.mealComponentBO)!==n?null!=c?d=c.saveMoney:c:e.resolveLooseUp(["mealComponentBO","saveMoney"]),m=o;return m="0.00"===o}function s(e,a,n){var t=e.data,l=e.affix;a.data+='\n    <!-- \u65b0\u642d\u914d -->\n    <p class="tb-total">\n      <span>\u5957\u9910\u4ef7\u683c\uff1a</span>\n      <em class="tb-rmb">&yen;</em><em>',U.line=34;var o=(c=l.mealComponentBO)!==n?null!=c?d=c.mealPriceMoney:c:(c=t.mealComponentBO)!==n?null!=c?d=c.mealPriceMoney:c:e.resolveLooseUp(["mealComponentBO","mealPriceMoney"]);return a=a.writeEscaped(o),a.data+="</em>\n    </p>\n  ",a}function p(e,a,n){var t=e.data,l=e.affix;a.data+='\n<ul class="tb-bundle-list">\n  ',U.line=3,U.line=3;var p=(c=l.mealComponentBO)!==n?null!=c?d=c.mealItems:c:(c=t.mealComponentBO)!==n?null!=c?d=c.mealItems:c:e.resolveLooseUp(["mealComponentBO","mealItems"]);a=y.call(v,e,{params:[p],fn:o},a),a.data+='\n</ul>\n<div class="tb-bundle-info" data-spm="1000371">\n  ',U.line=20,U.line=20;var f=(c=l.mealComponentBO)!==n?null!=c?d=c.newDataFlag:c:(c=t.mealComponentBO)!==n?null!=c?d=c.newDataFlag:c:e.resolveLooseUp(["mealComponentBO","newDataFlag"]),u=f;u=f!==!0,a=g.call(v,e,{params:[u],fn:m,inverse:r,elseIfs:[{test:i,fn:s}]},a),a.data+='\n  <a class="tb-view" data-spm="d9" href="',U.line=42;var b=(c=l.mealComponentBO)!==n?null!=c?d=c.mealUrl:c:(c=t.mealComponentBO)!==n?null!=c?d=c.mealUrl:c:e.resolveLooseUp(["mealComponentBO","mealUrl"]);return a=a.writeEscaped(b),a.data+='" target="_blank">\u67e5\u770b\u5957\u9910</a>\n</div>\n',a}var c,d,v=this,f=v.root,u=v.buffer,b=v.scope,U=(v.runtime,v.name,v.pos),C=b.data,B=b.affix,O=f.nativeCommands,x=f.utils,y=(x.callFn,x.callDataFn,x.callCommand,O.range,O["void"],O.foreach,O.forin,O.each),g=(O["with"],O["if"]);O.set,O.include,O.parse,O.extend,O.block,O.macro,O["debugger"];u.data+="",U.line=1;var L=(c=B.mealComponentBO)!==e?c:(c=C.mealComponentBO)!==e?c:b.resolveLooseUp(["mealComponentBO"]);return u=g.call(v,b,{params:[L],fn:p},u),u.data+="\n",u});return e.render.apply(e,arguments)}});define("kg/detail-item-recommend/0.0.10/lib/c/1212/mods/feast",["node"],function(e,t,n){var a,i=(KISSY,e("node")),r=i.all;a=function(){function e(){}return e.prototype.product1212=function(e){return e.purchase_power="",e.config.has_buyed_people_num&&"0"!==e.config.has_buyed_people_num&&(e.purchase_power='<div class="angle">\u5df2\u552e<strong>'+e.config.has_buyed_people_num+"</strong>\u4ef6</div>"),e.red_packet_ammount="",e.config.red_packet_ammount&&(e.red_packet_ammount="<span>\u518d\u51cf"+e.config.red_packet_ammount+"\u5143</span>"),e.config&&e.config.twelve_hide_money&&(e.special=e.config.twelve_hide_money),'<div class="wrap rain-s-12"><a href="'+e.link+'" target="_blank">\n        <div class="pic"><img src="'+e.img+'" alt=""></div></a>\n      <div class="smy">\n        '+e.purchase_power+'\n        <div class="title"><a href="'+e.link+'" target="_blank" title="'+e.title+'">'+e.title+"</a></div>\n        <dl>\n          <dt>\uffe5<span>"+e.special+"</span><em>\uffe5"+e.price+'</em></dt>\n            </dl><a href="'+e.link+'" target="_blank" class="addcart">\u7acb\u5373\u67e5\u770b</a>\n      </div>\n    </div>'},e.prototype.productNormal=function(e){return'<div class="wrap rain-s-normal"><a href="'+e.link+'" target="_blank">\n    <div class="pic"><img src="'+e.img+'" alt=""></div></a>\n  <div class="smy">\n    <div class="title"><a href="'+e.link+'" target="_blank" title="'+e.title+'">'+e.title+'</a></div>\n    <div class="discount">\uffe5<span>'+e.special+"</span></div>\n  </div>\n</div>"},e.prototype.productPre=function(e){return e.pre_order_people_num="",e.config.pre_order_people_num&&"0"!==e.config.pre_order_people_num&&(e.pre_order_people_num='<div class="angle">\u6709<strong>'+e.config.pre_order_people_num+"</strong>\u4eba\u5df2\u9884\u5b9a</div>"),'<div class="wrap rain-s-pre"><a href="'+e.link+'" target="_blank">\n      <div class="pic"><img src="'+e.img+'" alt=""></div></a>\n    <div class="smy">\n      '+e.pre_order_people_num+'\n      <a href="'+e.link+'" target="_blank" title="'+e.title+'">\n      <div class="title">'+e.title+'</div></a>\n      <dl class="rain-left">\n        <dt>\uffe5<span>'+e.config.pre_price+"</span><em>\uffe5"+e.price+'</em></dt>\n        <dd class="discount">&nbsp;</dd>\n      </dl>\n      <ol class="rain-left">\n        <li class="prepaid">&nbsp;\u9884\u4ed8:\uffe5<span>'+e.config.order_money+'</span></li>\n        <li class="addcart"><a href="'+e.link+'" target="_blank"><span class="rain-font">&#xe700;</span>\u7acb\u5373\u8d2d\u4e70</a></li>\n      </ol>\n    </div>\n  </div>'},e.prototype.go=function(e,t){var n,a=this;r(".container",e).css("left",t),n=r(".nav li",e),n.removeClass("active"),r(n[a.currentStep]).addClass("active")},e.prototype.events=function(e){var t,n=this,a=6==n.perPageItemCount?1128:940;r(".prev",e).on("click",function(){0==n.currentStep?n.currentStep=n.total-1:n.currentStep=n.currentStep-1,t=-n.currentStep*a,n.go(e,t)}),r(".next",e).on("click",function(){n.currentStep==n.total-1?n.currentStep=0:n.currentStep=n.currentStep+1,t=-n.currentStep*a,n.go(e,t)}),r(".nav li",e).on("click",function(t){var i=parseInt(r(t.currentTarget).attr("data-type"));n.currentStep=i;var p=-i*a;n.go(e,p)})},e.prototype.init=function(e,t){var n=this;n.perPageItemCount=6,r("#detail").width()<1140?n.perPageItemCount=5:n.perPageItemCount=6,n.render(e,t),r(window).on("resize",function(){r("#detail").width()<1140&&6==n.perPageItemCount?(n.perPageItemCount=5,r(t).empty(),n.render(e,t)):r("#detail").width()>=1140&&5==n.perPageItemCount&&(n.perPageItemCount=6,r(t).empty(),n.render(e,t))})},e.prototype.render=function(e,t){var n,a,i,p,l,s,o,d,c,u,v,g=this,m=6==g.perPageItemCount?1110:940;for(s=e.data,this.dom=t,a=r('<div data-spm="1998262448" style="width:4500px" class="container"></div>'),n=r('<div id="J_tad1212_inner" style="width: '+m+'px;margin-left: 14px;" class="rain-photo g-1-6"></div>'),o=0,c=0,l=u=0,v=s.length;0<=v?u<v:u>v;l=0<=v?++u:--u)d=s[l],l>17||(d.config.twelve_item_type?("2"===d.config.twelve_item_type&&(c++,i=this.product1212(d),a.append(i)),"1"===d.config.twelve_item_type&&(c++,i=this.productPre(d),a.append(i))):(o++,i=this.productNormal(d),a.append(i)));return s.length>17&&(c="18+"),n.append('<div class="tip">\u8be5\u5e97\u5bb6\u6709<strong>'+c+"</strong>\u4ef6\u5546\u54c1\u53c2\u52a0\u814a\u516b\u5e74\u8d27\u8282\uff0c\u5168\u6c11\u56e2\u5706\uff0c\u611f\u8c22\u6709\u4f60\u3002\u7acb\u5373\u62a2\u8d2d\uff01</div>"),n.append(a),o>0&&s.length<7&&(p='<div class="line" style="left:'+(188*(s.length-o)-10)+'px"></div>\n<div style="width:'+(188*o-18)+"px;left:"+188*(s.length-o)+'px;" class="rain-banner">\u67e5\u770b\u8be6\u60c5\uff0c\u9a6c\u4e0a\u52a0\u5165\u8d2d\u7269\u8f66</div>',n.append(p)),c>g.perPageItemCount&&g.scrollPage(n,s.length,g.perPageItemCount),this.dom.append(n)},e.prototype.scrollPage=function(e,t,n){var a=this,i=Math.ceil(t/n);this.total=i,a.currentStep=0;for(var r="",p=0;p<i;p++)r+=0!=p?'<li data-type="'+p+'"></li>':'<li data-type="'+p+'" class="active"></li>';var l='<ul class="rain-left nav">\n    '+r+'\n</ul>\n<div class="prev"></div>\n<div class="next"></div>';e.append(l),a.events(e)},e}(),n.exports=a});