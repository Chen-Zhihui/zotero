define("kg/detail-item-recommend/0.0.10/index",["kg/detail-item-recommend/0.0.10/lib/c/heart-election/","kg/detail-item-recommend/0.0.10/lib/c/matching-combo/","kg/detail-item-recommend/0.0.10/lib/c/1212/","kg/xtemplate/4.5.0/runtime","node","dom","ua","io","cookie","base","json","kg/detail-item-recommend/0.0.10/lib/c/heart-election/index.css","event-custom","kg/detail-item-recommend/0.0.10/lib/c/matching-combo/index.css","kg/detail-item-recommend/0.0.10/lib/c/1212/index.css","event","kg/detail-item-recommend/0.0.10/lib/index.css"],function(e,a,t){var n,i,r,s,o,l,d,c,p,m,f,u,v,g,h,_,b,y,w,x=e("kg/detail-item-recommend/0.0.10/lib/c/heart-election/"),C=e("kg/detail-item-recommend/0.0.10/lib/c/matching-combo/"),k=e("kg/detail-item-recommend/0.0.10/lib/c/1212/"),U=e("kg/xtemplate/4.5.0/runtime"),I=e("node"),L=e("dom"),E=e("ua"),T=e("io"),B=e("cookie"),S=e("base"),P=e("json"),O=(e("kg/detail-item-recommend/0.0.10/lib/c/heart-election/index.css"),e("event-custom")),F=(e("kg/detail-item-recommend/0.0.10/lib/c/matching-combo/index.css"),e("kg/detail-item-recommend/0.0.10/lib/c/1212/index.css"),e("event"));e("kg/detail-item-recommend/0.0.10/lib/index.css");n=function(e){var a=KISSY,t={sendStatistic:function(e){e&&((new Image).src="//gm.mmstat.com"+e+"?cache="+a.now())}};return e=t}(),i=function(e){return e={tad_first_area:{style:"tab",container:"#tad_first_area",items:{4:{title:"\u638c\u67dc\u63a8\u8350",modName:"HeartElection",container:"#J_TadHeartElection",modObject:x},8:{title:"\u642d\u914d\u5957\u9910",modName:"MatchingCombo",container:"#J_TadMatchingCombo",modObject:C},9:{title:"\u81ea\u7531\u642d\u914d",modName:"3",modPath:""},12:{title:"1212",modName:"1212",container:"#J_Tad1212",modObject:k}}},tad_second_area:{style:"block",items:{4:{title:"\u638c\u67dc\u63a8\u8350",container:"#tad_second_area",modName:"",modPath:""}}}}}(),r=function(e){"use strict";var a=U;return e=function(){var e=new a(function(e){function a(e,a,t){var n=e.data,i=e.affix;a.data+='<span class="price">';var s=(r=i.price)!==t?r:(r=n.price)!==t?r:e.resolveLooseUp(["price"]);return a=a.writeEscaped(s),a.data+="</span>",a}function t(e,t,n){var i=e.data,o=e.affix;t.data+='\n            <dd>\n              &yen;<span class="special">',c.line=15;var l=(r=o.special)!==n?r:(r=i.special)!==n?r:e.resolveLooseUp(["special"]);t=t.writeEscaped(l),t.data+="</span>\n              ",c.line=16;var d=(r=o.special)!==n?r:(r=i.special)!==n?r:e.resolveLooseUp(["special"]),p=d,m=(r=o.price)!==n?r:(r=i.price)!==n?r:e.resolveLooseUp(["price"]);return p=d!==m,t=g.call(s,e,{params:[p],fn:a},t),t.data+="\n            </dd>\n          ",t}function n(e,a,n){var i=e.data,o=e.affix;a.data+='\n      <div class="product-info ',c.line=8;var l=(r=o.cls)!==n?r:(r=i.cls)!==n?r:e.resolveLooseUp(["cls"]);a=a.writeEscaped(l),a.data+='">\n        <div class="draw-bg"></div>\n        <dl class="rain-left">\n          <dt><img src="',c.line=11;var d=(r=o.img)!==n?r:(r=i.img)!==n?r:e.resolveLooseUp(["img"]);a=a.writeEscaped(d),a.data+='"></dt>\n          <dd class="title">',c.line=12;var p=(r=o.title)!==n?r:(r=i.title)!==n?r:e.resolveLooseUp(["title"]);a=a.writeEscaped(p),a.data+="</dd>\n          ",c.line=13,c.line=13;var m=(r=o.special)!==n?r:(r=i.special)!==n?r:e.resolveLooseUp(["special"]),f=m;return f="-1"!==m,a=g.call(s,e,{params:[f],fn:t},a),a.data+="\n        </dl>\n      </div>\n      ",a}function i(e,a,t){var i=e.data,o=e.affix;a.data+='\n    <a target="_blank" style="',c.line=5;var l=(r=o.style)!==t?r:(r=i.style)!==t?r:e.resolveLooseUp(["style"]);a=a.writeEscaped(l),a.data+='" href="';var d=(r=o.link)!==t?r:(r=i.link)!==t?r:e.resolveLooseUp(["link"]);a=a.writeEscaped(d),a.data+='" class="mask">\n      <em><s></s></em>\n      ',c.line=7,c.line=7;var p=(r=o.cls)!==t?r:(r=i.cls)!==t?r:e.resolveLooseUp(["cls"]),m=p;return m="content default"!==p,a=g.call(s,e,{params:[m],fn:n},a),a.data+="\n    </a>\n    ",a}var r,s=this,o=s.root,l=s.buffer,d=s.scope,c=(s.runtime,s.name,s.pos),p=d.data,m=d.affix,f=o.nativeCommands,u=o.utils,v=(u.callFn,u.callDataFn,u.callCommand,f.range,f["void"],f.foreach,f.forin,f.each),g=(f["with"],f["if"]);f.set,f.include,f.parse,f.extend,f.block,f.macro,f["debugger"];l.data+='<div data-spm="1998246703" class="tad-heart-election">\n  <div style="',c.line=2;var h=(r=m.style)!==e?r:(r=p.style)!==e?r:d.resolveLooseUp(["style"]);l=l.writeEscaped(h),l.data+='" class="rain-draw">\n    <div style="',c.line=3;var _=(r=m.style)!==e?r:(r=p.style)!==e?r:d.resolveLooseUp(["style"]);l=l.writeEscaped(_),l.data+='" class="';var b=(r=m.cls)!==e?r:(r=p.cls)!==e?r:d.resolveLooseUp(["cls"]);l=l.writeEscaped(b),l.data+='">\n    ',c.line=4,c.line=4;var y=(r=m.data)!==e?r:(r=p.data)!==e?r:d.resolveLooseUp(["data"]);return l=v.call(s,d,{params:[y],fn:i},l),l.data+="\n    </div>\n  </div>\n</div>\n",l});return e.render.apply(e,arguments)}}(),s=function(e){"use strict";var a=U;return e=function(){var e=new a(function(e){function a(e,a,t){var n=e.data,r=e.affix;a.data+='<span class="price">';var s=(i=r.price)!==t?i:(i=n.price)!==t?i:e.resolveLooseUp(["price"]);return a=a.writeEscaped(s),a.data+="</span>",a}function t(e,t,n){var s=e.data,o=e.affix;t.data+='\n            <div class="special">&yen;',d.line=12;var l=(i=o.special)!==n?i:(i=s.special)!==n?i:e.resolveLooseUp(["special"]);t=t.writeEscaped(l),t.data+="\n            ",d.line=13;var c=(i=o.special)!==n?i:(i=s.special)!==n?i:e.resolveLooseUp(["special"]),p=c,m=(i=o.price)!==n?i:(i=s.price)!==n?i:e.resolveLooseUp(["price"]);return p=c!==m,t=v.call(r,e,{params:[p],fn:a},t),t.data+="\n            </div>\n          ",t}function n(e,a,n){var s=e.data,o=e.affix;a.data+='\n    <div class="wrap">\n      <a href="',d.line=8;var l=(i=o.link)!==n?i:(i=s.link)!==n?i:e.resolveLooseUp(["link"]);a=a.writeEscaped(l),a.data+='" target="_blank">\n        <img src="',d.line=9;var c=(i=o.img)!==n?i:(i=s.img)!==n?i:e.resolveLooseUp(["img"]);a=a.writeEscaped(c),a.data+='_170x170.jpg" alt="">\n        <div class="rain-product-info">\n          ',d.line=11,d.line=11;var p=(i=o.special)!==n?i:(i=s.special)!==n?i:e.resolveLooseUp(["special"]),m=p;m="-1"!==p,a=v.call(r,e,{params:[m],fn:t},a),a.data+='\n          <div class="title">',d.line=16;var f=(i=o.title)!==n?i:(i=s.title)!==n?i:e.resolveLooseUp(["title"]);return a=a.writeEscaped(f),a.data+="</div>\n        </div>\n      </a>\n    </div>\n    ",a}var i,r=this,s=r.root,o=r.buffer,l=r.scope,d=(r.runtime,r.name,r.pos),c=l.data,p=l.affix,m=s.nativeCommands,f=s.utils,u=(f.callFn,f.callDataFn,f.callCommand,m.range,m["void"],m.foreach,m.forin,m.each),v=(m["with"],m["if"]);m.set,m.include,m.parse,m.extend,m.block,m.macro,m["debugger"];o.data+='<div data-spm="1998246703" class="tad-heart-election">\n  <h3>\n    \u8de8\u5e97\u63a8\u8350<span><em>\u4eb2\uff0c\u4ee5\u4e0b\u63a8\u8350\u7684\u5b9d\u8d1d\u5747\u4e3a\u5176\u5b83\u5e97\u94fa\u7684\u5b9d\u8d1d\uff0c\u5982\u679c\u559c\u6b22\uff0c\u53ef\u4ee5\u70b9\u51fb\u5230\u76f8\u5e94\u7684\u5e97\u94fa\u5411\u638c\u67dc\u54a8\u8be2\u8d2d\u4e70\u54e6\uff01</em></span>\n  </h3>\n  <div class="rain-photo g-1-6">\n    ',d.line=6,d.line=6;var g=(i=p.data)!==e?i:(i=c.data)!==e?i:l.resolveLooseUp(["data"]);return o=u.call(r,l,{params:[g],fn:n},o),o.data+="\n  </div>\n</div>\n",o});return e.render.apply(e,arguments)}}(),o=function(e){"use strict";var a=U;return e=function(){var e=new a(function(e){function a(e,a,t){var n=e.data,i=e.affix;a.data+='\n                    <img class="icon-promotion" src="',f.line=15;var r=(o=i.icons)!==t?null!=o?l=o.iconPcSmall:o:(o=n.icons)!==t?null!=o?l=o.iconPcSmall:o:e.resolveLooseUp(["icons","iconPcSmall"]);return a=a.writeEscaped(r),a.data+='">\n                    ',a}function t(e,a,t){var n=e.data,i=e.affix;a.data+="";var r=(o=i.price)!==t?o:(o=n.price)!==t?o:e.resolveLooseUp(["price"]);return a=a.writeEscaped(r),a.data+="",a}function n(e,a,t){var n=e.data,i=e.affix;a.data+="";var r=(o=i.special)!==t?o:(o=n.special)!==t?o:e.resolveLooseUp(["special"]);return a=a.writeEscaped(r),a.data+="",a}function i(e,a,t){var n=e.data,i=e.affix;a.data+='\n                    <span class="original"><span class="yen">&yen;</span>',f.line=26;var r=(o=i.price)!==t?o:(o=n.price)!==t?o:e.resolveLooseUp(["price"]);return a=a.writeEscaped(r),a.data+="</span>\n                    ",a}function r(e,a,r){var s=e.data,l=e.affix;a.data+='\n                <div class="price">\n                    <span class="special">\n                        <span class="yen">&yen;</span>',f.line=23;var c=(o=l.special)!==r?o:(o=s.special)!==r?o:e.resolveLooseUp(["special"]),p=c;p="0.0"===c,a=b.call(d,e,{params:[p],fn:t,inverse:n},a),a.data+="\n                    </span>\n                    ",f.line=25,f.line=25;var m=(o=l.special)!==r?o:(o=s.special)!==r?o:e.resolveLooseUp(["special"]),u=m,v=(o=l.price)!==r?o:(o=s.price)!==r?o:e.resolveLooseUp(["price"]);u=m!==v;var g=u;if(g){var h=(o=l.special)!==r?o:(o=s.special)!==r?o:e.resolveLooseUp(["special"]),_=h;_="0.0"!==h,g=_}return a=b.call(d,e,{params:[g],fn:i},a),a.data+="\n                </div>\n                ",a}function s(e,t,n){var i=e.data,s=e.affix;t.data+='\n        <div class="wrap">\n            <a href="',f.line=7;var c=(o=s.link)!==n?o:(o=i.link)!==n?o:e.resolveLooseUp(["link"]);t=t.writeEscaped(c),t.data+='" target="_blank">\n\n                <div class="img-wrap">\n                    <img src="',f.line=10;var p=(o=s.img)!==n?o:(o=i.img)!==n?o:e.resolveLooseUp(["img"]);t=t.writeEscaped(p),t.data+='" alt="';var m=(o=s.title)!==n?o:(o=i.title)!==n?o:e.resolveLooseUp(["title"]);t=t.writeEscaped(m),t.data+='">\n                </div>\n\n                <div class="title">\n                    ',f.line=14,f.line=14;var u=(o=s.icons)!==n?o:(o=i.icons)!==n?o:e.resolveLooseUp(["icons"]),v=u;if(v){var g=(o=s.icons)!==n?null!=o?l=o.iconPcSmall:o:(o=i.icons)!==n?null!=o?l=o.iconPcSmall:o:e.resolveLooseUp(["icons","iconPcSmall"]);v=g}var h=v;if(h){var _=(o=s.icons)!==n?null!=o?l=o.iconPcSmall:o:(o=i.icons)!==n?null!=o?l=o.iconPcSmall:o:e.resolveLooseUp(["icons","iconPcSmall"]),y=_;y=""!==_,h=y}t=b.call(d,e,{params:[h],fn:a},t),t.data+="\n                    <span>",f.line=17;var w=(o=s.title)!==n?o:(o=i.title)!==n?o:e.resolveLooseUp(["title"]);t=t.writeEscaped(w),t.data+="</span>\n                </div>\n\n                ",f.line=20,f.line=20;var x=(o=s.special)!==n?o:(o=i.special)!==n?o:e.resolveLooseUp(["special"]),C=x;return C="-1"!==x,t=b.call(d,e,{params:[C],fn:r},t),t.data+="\n            </a>\n        </div>\n        ",t}var o,l,d=this,c=d.root,p=d.buffer,m=d.scope,f=(d.runtime,d.name,d.pos),u=m.data,v=m.affix,g=c.nativeCommands,h=c.utils,_=(h.callFn,h.callDataFn,h.callCommand,g.range,g["void"],g.foreach,g.forin,g.each),b=(g["with"],g["if"]);g.set,g.include,g.parse,g.extend,g.block,g.macro,g["debugger"];p.data+='<!-- \u5fc3\u9009\u81ea\u5b9a\u4e49\u8ba1\u5212\u6a21\u677f -->\n\n<div data-spm="1998246703" class="tad-heart-election tab-heart-defualt">\n    <div style="',f.line=4;var y=(o=v.style)!==e?o:(o=u.style)!==e?o:m.resolveLooseUp(["style"]);p=p.writeEscaped(y),p.data+='" class="';var w=(o=v.cls)!==e?o:(o=u.cls)!==e?o:m.resolveLooseUp(["cls"]);p=p.writeEscaped(w),p.data+='">\n        ',f.line=5,f.line=5;var x=(o=v.data)!==e?o:(o=u.data)!==e?o:m.resolveLooseUp(["data"]);return p=_.call(d,m,{params:[x],fn:s},p),p.data+="\n    </div>\n</div>\n",p});return e.render.apply(e,arguments)}}(),l=function(e){"use strict";var a=U;return e=function(){var e=new a(function(e){function a(e,a,t){var n=e.data,i=e.affix;a.data+='\n                    <img class="icon-promotion" src="',f.line=12;var r=(o=i.icons)!==t?null!=o?l=o.iconPcSmall:o:(o=n.icons)!==t?null!=o?l=o.iconPcSmall:o:e.resolveLooseUp(["icons","iconPcSmall"]);return a=a.writeEscaped(r),a.data+='">\n                    ',a}function t(e,a,t){var n=e.data,i=e.affix;a.data+="";var r=(o=i.price)!==t?o:(o=n.price)!==t?o:e.resolveLooseUp(["price"]);return a=a.writeEscaped(r),a.data+="",a}function n(e,a,t){var n=e.data,i=e.affix;a.data+="";var r=(o=i.special)!==t?o:(o=n.special)!==t?o:e.resolveLooseUp(["special"]);return a=a.writeEscaped(r),a.data+="",a}function i(e,a,t){var n=e.data,i=e.affix;a.data+='\n                    <span class="original"><span class="yen">&yen;</span>',f.line=23;var r=(o=i.price)!==t?o:(o=n.price)!==t?o:e.resolveLooseUp(["price"]);return a=a.writeEscaped(r),a.data+="</span>\n                    ",a}function r(e,a,r){var s=e.data,l=e.affix;a.data+='\n                <div class="price">\n                    <span class="special">\n                        <span class="yen">&yen;</span>',f.line=20;var c=(o=l.special)!==r?o:(o=s.special)!==r?o:e.resolveLooseUp(["special"]),p=c;p="0.0"===c,a=b.call(d,e,{params:[p],fn:t,inverse:n},a),a.data+="\n                    </span>\n                    ",f.line=22,f.line=22;var m=(o=l.special)!==r?o:(o=s.special)!==r?o:e.resolveLooseUp(["special"]),u=m,v=(o=l.price)!==r?o:(o=s.price)!==r?o:e.resolveLooseUp(["price"]);u=m!==v;var g=u;if(g){var h=(o=l.special)!==r?o:(o=s.special)!==r?o:e.resolveLooseUp(["special"]),_=h;_="0.0"!==h,g=_}return a=b.call(d,e,{params:[g],fn:i},a),a.data+="\n                </div>\n                ",a}function s(e,t,n){var i=e.data,s=e.affix;t.data+='\n        <div class="wrap">\n            <a href="',f.line=6;var c=(o=s.link)!==n?o:(o=i.link)!==n?o:e.resolveLooseUp(["link"]);t=t.writeEscaped(c),t.data+='" target="_blank">\n                <div class="img-wrap">\n                    <img src="',f.line=8;var p=(o=s.img)!==n?o:(o=i.img)!==n?o:e.resolveLooseUp(["img"]);t=t.writeEscaped(p),t.data+='_170x170.jpg" alt="';var m=(o=s.title)!==n?o:(o=i.title)!==n?o:e.resolveLooseUp(["title"]);t=t.writeEscaped(m),t.data+='">\n                </div>\n                <div class="title">\n                    ',f.line=11,f.line=11;var u=(o=s.icons)!==n?o:(o=i.icons)!==n?o:e.resolveLooseUp(["icons"]),v=u;if(v){var g=(o=s.icons)!==n?null!=o?l=o.iconPcSmall:o:(o=i.icons)!==n?null!=o?l=o.iconPcSmall:o:e.resolveLooseUp(["icons","iconPcSmall"]);v=g}var h=v;if(h){var _=(o=s.icons)!==n?null!=o?l=o.iconPcSmall:o:(o=i.icons)!==n?null!=o?l=o.iconPcSmall:o:e.resolveLooseUp(["icons","iconPcSmall"]),y=_;y=""!==_,h=y}t=b.call(d,e,{params:[h],fn:a},t),t.data+="\n                    <span>",f.line=14;var w=(o=s.title)!==n?o:(o=i.title)!==n?o:e.resolveLooseUp(["title"]);t=t.writeEscaped(w),t.data+="</span>\n                </div>\n\n                ",f.line=17,f.line=17;var x=(o=s.special)!==n?o:(o=i.special)!==n?o:e.resolveLooseUp(["special"]),C=x;return C="-1"!==x,t=b.call(d,e,{params:[C],fn:r},t),t.data+="\n            </a>\n        </div>\n        ",t}var o,l,d=this,c=d.root,p=d.buffer,m=d.scope,f=(d.runtime,d.name,d.pos),u=m.data,v=m.affix,g=c.nativeCommands,h=c.utils,_=(h.callFn,h.callDataFn,h.callCommand,g.range,g["void"],g.foreach,g.forin,g.each),b=(g["with"],g["if"]);g.set,g.include,g.parse,g.extend,g.block,g.macro,g["debugger"];p.data+='<!-- \u63a8\u8350\u8ba1\u5212\u6a21\u677f -->\n<div data-spm="1998246701" class="tad-heart-election tab-heart-tuijian">\n    <div class="rain-photo g-1-6">\n        ',f.line=4,f.line=4;var y=(o=v.data)!==e?o:(o=u.data)!==e?o:m.resolveLooseUp(["data"]);return p=_.call(d,m,{params:[y],fn:s},p),p.data+="\n    </div>\n</div>\n",p});return e.render.apply(e,arguments)}}(),d=function(e){"use strict";var a=U;return e=function(){var e=new a(function(e){function a(e,a,t){var n=e.data,r=e.affix;a.data+='\n              <span class="price">',d.line=13;var s=(i=r.price)!==t?i:(i=n.price)!==t?i:e.resolveLooseUp(["price"]);return a=a.writeEscaped(s),a.data+="</span>\n            ",a}function t(e,t,n){var s=e.data,o=e.affix;t.data+='\n            <div class="special">\n            &yen;',d.line=11;var l=(i=o.special)!==n?i:(i=s.special)!==n?i:e.resolveLooseUp(["special"]);t=t.writeEscaped(l),t.data+="\n            ",d.line=12,d.line=12;var c=(i=o.special)!==n?i:(i=s.special)!==n?i:e.resolveLooseUp(["special"]),p=c,m=(i=o.price)!==n?i:(i=s.price)!==n?i:e.resolveLooseUp(["price"]);return p=c!==m,t=v.call(r,e,{params:[p],fn:a},t),t.data+="\n            </div>\n          ",t}function n(e,a,n){var s=e.data,o=e.affix;a.data+='\n    <li class="',d.line=5;var l=(i=o.cls)!==n?i:(i=s.cls)!==n?i:e.resolveLooseUp(["cls"]);a=a.writeEscaped(l),a.data+='">\n      <a href="',d.line=6;var c=(i=o.link)!==n?i:(i=s.link)!==n?i:e.resolveLooseUp(["link"]);a=a.writeEscaped(c),a.data+='" target="_blank">\n        <img src="',d.line=7;var p=(i=o.img)!==n?i:(i=s.img)!==n?i:e.resolveLooseUp(["img"]);a=a.writeEscaped(p),a.data+='" alt="">\n        <div class="rain-product-info">\n          ',d.line=9,d.line=9;var m=(i=o.special)!==n?i:(i=s.special)!==n?i:e.resolveLooseUp(["special"]),f=m;f=m!==-1,a=v.call(r,e,{params:[f],fn:t},a),a.data+='\n          <div class="title">',d.line=17;var u=(i=o.title)!==n?i:(i=s.title)!==n?i:e.resolveLooseUp(["title"]);return a=a.writeEscaped(u),a.data+="</div>\n        </div>\n      </a>\n    </li>\n    ",a}var i,r=this,s=r.root,o=r.buffer,l=r.scope,d=(r.runtime,r.name,r.pos),c=l.data,p=l.affix,m=s.nativeCommands,f=s.utils,u=(f.callFn,f.callDataFn,f.callCommand,m.range,m["void"],m.foreach,m.forin,m.each),v=(m["with"],m["if"]);m.set,m.include,m.parse,m.extend,m.block,m.macro,m["debugger"];o.data+='<div data-spm="1998246703" class="tad-heart-election">\n  <div style="',d.line=2;var g=(i=p.style)!==e?i:(i=c.style)!==e?i:l.resolveLooseUp(["style"]);o=o.writeEscaped(g),o.data+='" class="';var h=(i=p.cls)!==e?i:(i=c.cls)!==e?i:l.resolveLooseUp(["cls"]);o=o.writeEscaped(h),o.data+='">\n    <ul class="rain-left">\n    ',d.line=4,d.line=4;var _=(i=p.data)!==e?i:(i=c.data)!==e?i:l.resolveLooseUp(["data"]);return o=u.call(r,l,{params:[_],fn:n},o),o.data+="\n    </ul>\n  </div>\n</div>\n",o});return e.render.apply(e,arguments)}}(),c=function(e){function a(e){d=(new Date).valueOf(),d-l>o?e():n.later(function(){e()},o+l-d)}function t(e){var a=this;a.dataBox=r.get(e.dataBox),a.pageBox=r.get(e.pageBox),a.meals=e.meals,a.dataBox&&a.pageBox&&(a.api=e.api,a.activePageIndex=0,a.cache=[],a.indicator=null,a.pagers=i.all(".J_Pager",r.next(a.dataBox)),a.currentPage=r.get(".tb-current",a.pageBox),a.maxPageIndex=parseInt(r.attr(a.pageBox,"data-max-page"),10)-1,a._init())}var n=KISSY,i=I,r=L,s=E,o=300,l=0,d=0,c="tb-hidden",p=i.all("body");return n.mix(t.prototype,{_init:function(){var e=this;e.cache.push(e.dataBox.innerHTML),e.pagers.on("click",function(a){a.preventDefault();var t=this;s.ie<8&&(t.hideFocus=!0),e._clickHandler(t),window.DT&&"function"==typeof DT.sendClick&&DT.sendClick("12.20."+(r.parent(t,".tb-mjs")?"1":"0"))})},_getCurrentPageIndex:function(e){var a,t=this;return a=r.hasClass(e,"J_Prev")?t.activePageIndex-1:r.hasClass(e,"J_Next")?t.activePageIndex+1:parseInt(r.attr(e,"data-index"),10),a>t.maxPageIndex?a=0:a<0&&(a=t.maxPageIndex),a},_getCurrentPageItem:function(e){return this.meals[e]},_changeCurrent:function(e){r.html(this.currentPage,e+1)},_clickHandler:function(e){var t,n,i=this,r=i._getCurrentPageIndex(e);if(r!==i.activePageIndex)if(i.activePageIndex=r,t=i.cache[r],n=i._getCurrentPageItem(r),l=(new Date).valueOf(),i._showIndicator(),t)a(function(){i._changeCurrent(r),i.dataBox.innerHTML=t,i._hideIndicator()});else{var s=i.api+"&page="+r+"&mealdata="+encodeURIComponent(n);p.fire("load",{api:s}),p.detach("loadsuccess"),p.detach("loaderror"),p.on("loadsuccess",function(){a(function(){i._hideIndicator(),i._changeCurrent(r),i.cache[r]=i.dataBox.innerHTML})}),p.on("loaderror",function(){i._hideIndicator()})}},_addIndicator:function(){var e=r.create('<div class="tb-indicator" style="visibility: hidden;"><p class="tb-indicator-mask"></p><p class="tb-indicator-msg"><img src="//assets.alicdn.com/mw/base/styles/component/more/images/loading.gif" /></p></div>');this.dataBox.parentNode.appendChild(e),this.indicator=e;var a=this;n.later(function(){6===s.ie&&(r.addClass(e,"tb-indicator-ie6"),r.css(e,"width","165px"),r.css(e,"height","45px"),r.css(e,"top",r.hasClass(a.dataBox,"tb-combo-data")?"55px":"25px")),r.css(e,"visibility","visible")},0)},_showIndicator:function(){var e=this;e.indicator?r.removeClass(e.indicator,c):e._addIndicator()},_hideIndicator:function(){r.addClass(this.indicator,c)}}),e=t}(),p=function(e){"use strict";var a=U;return e=function(){var e=new a(function(e){function a(e,a,t){var s=e.data,o=e.affix;a.data+='\n    <div class="tb-pagination" id="J_BundlePage" data-max-page="',c.line=7;var l=(n=o.mealComponentBO)!==t?null!=n?null!=(i=n.meals)?r=i.length:i:n:(n=s.mealComponentBO)!==t?null!=n?null!=(i=n.meals)?r=i.length:i:n:e.resolveLooseUp(["mealComponentBO","meals","length"]);a=a.writeEscaped(l),a.data+='">\n      <a href="#" class="J_Next tb-next J_Pager">\u4e0b\u4e00\u9875</a>\n      <div class="tb-page-indicator">\n        <span class="tb-current">1</span>/',c.line=10;var d=(n=o.mealComponentBO)!==t?null!=n?null!=(i=n.meals)?r=i.length:i:n:(n=s.mealComponentBO)!==t?null!=n?null!=(i=n.meals)?r=i.length:i:n:e.resolveLooseUp(["mealComponentBO","meals","length"]);return a=a.writeEscaped(d),a.data+='\n      </div>\n      <a href="#" class="J_Prev tb-prev J_Pager">\u4e0a\u4e00\u9875</a>\n    </div>\n    ',a}function t(e,t,r){var o=e.data,l=e.affix;t.data+='\n  <div class="tb-bundle">\n    <div id="J_BundleData" class="tb-bundle-data">\n    </div>\n    ',c.line=6,c.line=6;var d=(n=l.mealComponentBO)!==r?null!=n?i=n.meals:n:(n=o.mealComponentBO)!==r?null!=n?i=n.meals:n:e.resolveLooseUp(["mealComponentBO","meals"]);return t=v.call(s,e,{params:[d],fn:a},t),t.data+="\n  </div>\n  ",t}var n,i,r,s=this,o=s.root,l=s.buffer,d=s.scope,c=(s.runtime,s.name,s.pos),p=d.data,m=d.affix,f=o.nativeCommands,u=o.utils,v=(u.callFn,u.callDataFn,u.callCommand,f.range,f["void"],f.foreach,f.forin,f.each,f["with"],f["if"]);f.set,f.include,f.parse,f.extend,f.block,f.macro,f["debugger"];l.data+='<div id="matching-combo">\n  ',c.line=2,c.line=2;var g=(n=m.mealComponentBO)!==e?n:(n=p.mealComponentBO)!==e?n:d.resolveLooseUp(["mealComponentBO"]);return l=v.call(s,d,{params:[g],fn:t},l),l.data+="\n</div>\n",l});return e.render.apply(e,arguments)}}(),m=function(e){"use strict";var a=U;return e=function(){var e=new a(function(e){function a(e,a,t){e.data,e.affix;return a.data+='class="tb-main" ',a}function t(e,a,t){e.data,e.affix;return a.data+='class="tb-empty" ',a}function n(e,a,t){e.data,e.affix;return a.data+='\n    <div class="tb-pic tb-s80 tb-empty-pic">\n      <img src="//img.alicdn.com/tps/i1/T1aIR3XohnXXXXXXXX-80-80.png" alt="\u7a7a\u56fe\u7247"/>\n    </div>\n    ',a}function i(e,a,t){var n=e.data,i=e.affix;a.data+='\n    <div class="tb-pic tb-s80">\n      <a href="',h.line=11;var r=(p=i.itemUrl)!==t?p:(p=n.itemUrl)!==t?p:e.resolveLooseUp(["itemUrl"]);a=a.writeEscaped(r),a.data+='" target="_blank"><img src="';var s=(p=i.picImgUrl)!==t?p:(p=n.picImgUrl)!==t?p:e.resolveLooseUp(["picImgUrl"]);a=a.writeEscaped(s),a.data+='_80x80.jpg" alt="';var o=(p=i.itemTitle)!==t?p:(p=n.itemTitle)!==t?p:e.resolveLooseUp(["itemTitle"]);a=a.writeEscaped(o),a.data+='" /></a>\n    </div>\n    <a href="',h.line=13;var l=(p=i.itemUrl)!==t?p:(p=n.itemUrl)!==t?p:e.resolveLooseUp(["itemUrl"]);a=a.writeEscaped(l),a.data+='" target="_blank" class="tb-title" title="';var d=(p=i.itemTitle)!==t?p:(p=n.itemTitle)!==t?p:e.resolveLooseUp(["itemTitle"]);a=a.writeEscaped(d),a.data+='">';var c=(p=i.itemTitle)!==t?p:(p=n.itemTitle)!==t?p:e.resolveLooseUp(["itemTitle"]);a=a.writeEscaped(c),a.data+='</a>\n    <em class="tb-price">\u4ef7\u683c\uff1a<em class="tb-rmb">&yen;</em>',h.line=14;var m=(p=i.reservePrice)!==t?p:(p=n.reservePrice)!==t?p:e.resolveLooseUp(["reservePrice"]);return a=a.writeEscaped(m),a.data+="<!--329.00--></em>\n    ",a}function r(e,r,s){var o=e.data,l=e.affix;r.data+="\n  <li ",h.line=4;var d=(p=l.xindex)!==s?p:(p=o.xindex)!==s?p:e.resolveLooseUp(["xindex"]),c=d;c=0===d,r=C.call(f,e,{params:[c],fn:a},r),r.data+="";var m=(p=l.itemId)!==s?p:(p=o.itemId)!==s?p:e.resolveLooseUp(["itemId"]),u=m;u=0===m,r=C.call(f,e,{params:[u],fn:t},r),r.data+=" >\n    ",h.line=5,h.line=5;var v=(p=l.itemId)!==s?p:(p=o.itemId)!==s?p:e.resolveLooseUp(["itemId"]),g=v;return g=0===v,r=C.call(f,e,{params:[g],fn:n,inverse:i},r),r.data+="\n  </li>\n  ",r}function s(e,a,t){var n=e.data,i=e.affix;a.data+='\n    <!-- \u8001\u642d\u914d -->\n    <p class="tb-total">\n      <span>\u5957\u9910\u4ef7\u683c\uff1a</span>\n      <em class="tb-rmb">&yen;</em><em>',h.line=24;var r=(p=i.mealComponentBO)!==t?null!=p?m=p.mealPriceMoney:p:(p=n.mealComponentBO)!==t?null!=p?m=p.mealPriceMoney:p:e.resolveLooseUp(["mealComponentBO","mealPriceMoney"]);a=a.writeEscaped(r),a.data+='</em>\n    </p>\n    <p class="tb-save">\n      <span>\u8282\u7701\uff1a</span>\n      <em class="tb-rmb">&yen;</em><em>',h.line=28;var s=(p=i.mealComponentBO)!==t?null!=p?m=p.saveMoney:p:(p=n.mealComponentBO)!==t?null!=p?m=p.saveMoney:p:e.resolveLooseUp(["mealComponentBO","saveMoney"]);return a=a.writeEscaped(s),a.data+="</em>\n    </p>\n  ",a}function o(e,a,t){var n=e.data,i=e.affix;a.data+='\n    <p class="tb-save">\n      <span>\u6700\u591a\u8282\u7701\uff1a</span>\n      <em class="tb-rmb">&yen;</em><em>',h.line=39;var r=(p=i.mealComponentBO)!==t?null!=p?m=p.saveMoney:p:(p=n.mealComponentBO)!==t?null!=p?m=p.saveMoney:p:e.resolveLooseUp(["mealComponentBO","saveMoney"]);return a=a.writeEscaped(r),a.data+="</em>\n    </p>\n  ",a}function l(e,a,t){var n=e.data,i=e.affix;h.line=30;var r=(p=i.mealComponentBO)!==t?null!=p?m=p.saveMoney:p:(p=n.mealComponentBO)!==t?null!=p?m=p.saveMoney:p:e.resolveLooseUp(["mealComponentBO","saveMoney"]),s=r;return s="0.00"===r}function d(e,a,t){var n=e.data,i=e.affix;a.data+='\n    <!-- \u65b0\u642d\u914d -->\n    <p class="tb-total">\n      <span>\u5957\u9910\u4ef7\u683c\uff1a</span>\n      <em class="tb-rmb">&yen;</em><em>',h.line=34;var r=(p=i.mealComponentBO)!==t?null!=p?m=p.mealPriceMoney:p:(p=n.mealComponentBO)!==t?null!=p?m=p.mealPriceMoney:p:e.resolveLooseUp(["mealComponentBO","mealPriceMoney"]);return a=a.writeEscaped(r),a.data+="</em>\n    </p>\n  ",a}function c(e,a,t){var n=e.data,i=e.affix;a.data+='\n<ul class="tb-bundle-list">\n  ',h.line=3,h.line=3;var c=(p=i.mealComponentBO)!==t?null!=p?m=p.mealItems:p:(p=n.mealComponentBO)!==t?null!=p?m=p.mealItems:p:e.resolveLooseUp(["mealComponentBO","mealItems"]);a=x.call(f,e,{params:[c],fn:r},a),a.data+='\n</ul>\n<div class="tb-bundle-info" data-spm="1000371">\n  ',h.line=20,h.line=20;var u=(p=i.mealComponentBO)!==t?null!=p?m=p.newDataFlag:p:(p=n.mealComponentBO)!==t?null!=p?m=p.newDataFlag:p:e.resolveLooseUp(["mealComponentBO","newDataFlag"]),v=u;v=u!==!0,a=C.call(f,e,{params:[v],fn:s,inverse:o,elseIfs:[{test:l,fn:d}]},a),a.data+='\n  <a class="tb-view" data-spm="d9" href="',h.line=42;var g=(p=i.mealComponentBO)!==t?null!=p?m=p.mealUrl:p:(p=n.mealComponentBO)!==t?null!=p?m=p.mealUrl:p:e.resolveLooseUp(["mealComponentBO","mealUrl"]);return a=a.writeEscaped(g),a.data+='" target="_blank">\u67e5\u770b\u5957\u9910</a>\n</div>\n',a}var p,m,f=this,u=f.root,v=f.buffer,g=f.scope,h=(f.runtime,f.name,f.pos),_=g.data,b=g.affix,y=u.nativeCommands,w=u.utils,x=(w.callFn,w.callDataFn,w.callCommand,y.range,y["void"],y.foreach,y.forin,y.each),C=(y["with"],y["if"]);y.set,y.include,y.parse,y.extend,y.block,y.macro,y["debugger"];v.data+="",h.line=1;var k=(p=b.mealComponentBO)!==e?p:(p=_.mealComponentBO)!==e?p:g.resolveLooseUp(["mealComponentBO"]);return v=C.call(f,g,{params:[k],fn:c},v),v.data+="\n",v});return e.render.apply(e,arguments)}}(),f=function(e){var a,t=(KISSY,I),n=t.all;return a=function(){function e(){}return e.prototype.product1212=function(e){return e.purchase_power="",e.config.has_buyed_people_num&&"0"!==e.config.has_buyed_people_num&&(e.purchase_power='<div class="angle">\u5df2\u552e<strong>'+e.config.has_buyed_people_num+"</strong>\u4ef6</div>"),e.red_packet_ammount="",e.config.red_packet_ammount&&(e.red_packet_ammount="<span>\u518d\u51cf"+e.config.red_packet_ammount+"\u5143</span>"),e.config&&e.config.twelve_hide_money&&(e.special=e.config.twelve_hide_money),'<div class="wrap rain-s-12"><a href="'+e.link+'" target="_blank">\n        <div class="pic"><img src="'+e.img+'" alt=""></div></a>\n      <div class="smy">\n        '+e.purchase_power+'\n        <div class="title"><a href="'+e.link+'" target="_blank" title="'+e.title+'">'+e.title+"</a></div>\n        <dl>\n          <dt>\uffe5<span>"+e.special+"</span><em>\uffe5"+e.price+'</em></dt>\n            </dl><a href="'+e.link+'" target="_blank" class="addcart">\u7acb\u5373\u67e5\u770b</a>\n      </div>\n    </div>'},e.prototype.productNormal=function(e){return'<div class="wrap rain-s-normal"><a href="'+e.link+'" target="_blank">\n    <div class="pic"><img src="'+e.img+'" alt=""></div></a>\n  <div class="smy">\n    <div class="title"><a href="'+e.link+'" target="_blank" title="'+e.title+'">'+e.title+'</a></div>\n    <div class="discount">\uffe5<span>'+e.special+"</span></div>\n  </div>\n</div>"},e.prototype.productPre=function(e){return e.pre_order_people_num="",e.config.pre_order_people_num&&"0"!==e.config.pre_order_people_num&&(e.pre_order_people_num='<div class="angle">\u6709<strong>'+e.config.pre_order_people_num+"</strong>\u4eba\u5df2\u9884\u5b9a</div>"),'<div class="wrap rain-s-pre"><a href="'+e.link+'" target="_blank">\n      <div class="pic"><img src="'+e.img+'" alt=""></div></a>\n    <div class="smy">\n      '+e.pre_order_people_num+'\n      <a href="'+e.link+'" target="_blank" title="'+e.title+'">\n      <div class="title">'+e.title+'</div></a>\n      <dl class="rain-left">\n        <dt>\uffe5<span>'+e.config.pre_price+"</span><em>\uffe5"+e.price+'</em></dt>\n        <dd class="discount">&nbsp;</dd>\n      </dl>\n      <ol class="rain-left">\n        <li class="prepaid">&nbsp;\u9884\u4ed8:\uffe5<span>'+e.config.order_money+'</span></li>\n        <li class="addcart"><a href="'+e.link+'" target="_blank"><span class="rain-font">&#xe700;</span>\u7acb\u5373\u8d2d\u4e70</a></li>\n      </ol>\n    </div>\n  </div>'},e.prototype.go=function(e,a){var t,i=this;n(".container",e).css("left",a),t=n(".nav li",e),t.removeClass("active"),n(t[i.currentStep]).addClass("active")},e.prototype.events=function(e){var a,t=this,i=6==t.perPageItemCount?1128:940;n(".prev",e).on("click",function(){0==t.currentStep?t.currentStep=t.total-1:t.currentStep=t.currentStep-1,a=-t.currentStep*i,t.go(e,a)}),n(".next",e).on("click",function(){t.currentStep==t.total-1?t.currentStep=0:t.currentStep=t.currentStep+1,a=-t.currentStep*i,t.go(e,a)}),n(".nav li",e).on("click",function(a){var r=parseInt(n(a.currentTarget).attr("data-type"));t.currentStep=r;var s=-r*i;t.go(e,s)})},e.prototype.init=function(e,a){var t=this;t.perPageItemCount=6,n("#detail").width()<1140?t.perPageItemCount=5:t.perPageItemCount=6,t.render(e,a),n(window).on("resize",function(){n("#detail").width()<1140&&6==t.perPageItemCount?(t.perPageItemCount=5,n(a).empty(),t.render(e,a)):n("#detail").width()>=1140&&5==t.perPageItemCount&&(t.perPageItemCount=6,n(a).empty(),t.render(e,a))})},e.prototype.render=function(e,a){var t,i,r,s,o,l,d,c,p,m,f,u=this,v=6==u.perPageItemCount?1110:940;for(l=e.data,this.dom=a,i=n('<div data-spm="1998262448" style="width:4500px" class="container"></div>'),t=n('<div id="J_tad1212_inner" style="width: '+v+'px;margin-left: 14px;" class="rain-photo g-1-6"></div>'),d=0,p=0,o=m=0,f=l.length;0<=f?m<f:m>f;o=0<=f?++m:--m)c=l[o],o>17||(c.config.twelve_item_type?("2"===c.config.twelve_item_type&&(p++,r=this.product1212(c),i.append(r)),"1"===c.config.twelve_item_type&&(p++,r=this.productPre(c),i.append(r))):(d++,r=this.productNormal(c),i.append(r)));return l.length>17&&(p="18+"),t.append('<div class="tip">\u8be5\u5e97\u5bb6\u6709<strong>'+p+"</strong>\u4ef6\u5546\u54c1\u53c2\u52a0\u814a\u516b\u5e74\u8d27\u8282\uff0c\u5168\u6c11\u56e2\u5706\uff0c\u611f\u8c22\u6709\u4f60\u3002\u7acb\u5373\u62a2\u8d2d\uff01</div>"),t.append(i),d>0&&l.length<7&&(s='<div class="line" style="left:'+(188*(l.length-d)-10)+'px"></div>\n<div style="width:'+(188*d-18)+"px;left:"+188*(l.length-d)+'px;" class="rain-banner">\u67e5\u770b\u8be6\u60c5\uff0c\u9a6c\u4e0a\u52a0\u5165\u8d2d\u7269\u8f66</div>',
t.append(s)),p>u.perPageItemCount&&u.scrollPage(t,l.length,u.perPageItemCount),this.dom.append(t)},e.prototype.scrollPage=function(e,a,t){var n=this,i=Math.ceil(a/t);this.total=i,n.currentStep=0;for(var r="",s=0;s<i;s++)r+=0!=s?'<li data-type="'+s+'"></li>':'<li data-type="'+s+'" class="active"></li>';var o='<ul class="rain-left nav">\n    '+r+'\n</ul>\n<div class="prev"></div>\n<div class="next"></div>';e.append(o),n.events(e)},e}(),e=a}(),u=function(e){var a=i,t=KISSY,n={plugins:{},init:function(e){var n=this,e=e||a;return t.each(e,function(e,a){n.plugins[a]={},n.plugins[a].items=[],n.plugins[a].showType=-1}),n.plugins},add:function(e,a){var t=this.plugins,n=t[e].items;return n.length>0?n.push(a):(n.push(a),t[e].showType=a),t},rm:function(e,a){a=parseInt(a);var n=this.plugins,i=t.indexOf(a,n[e].items);return i>-1&&n[e].items.splice(i,1),n[e].showType=n[e].items.length>0?n[e].items[0]:-1,n},switchTo:function(e,a){var t=this.plugins;t[e].showType=a},get:function(){return this.plugins}};return e=n}(),v=function(e){"use strict";var a=U;return e=function(){var e=new a(function(e){function a(e,a,t){e.data,e.affix;return a.data+=" selected ",a}function t(e,a,t){e.data,e.affix;return a.data+="tb-tad-nav-1212",a}function n(e,n,i){var r=e.data,l=e.affix;n.data+='\n            <li class="tb-tad-nav ',p.line=5;var d=(s=l.xindex)!==i?s:(s=r.xindex)!==i?s:e.resolveLooseUp(["xindex"]),c=d;c=0===d,n=h.call(o,e,{params:[c],fn:a},n),n.data+=" ";var m=(s=l.type)!==i?s:(s=r.type)!==i?s:e.resolveLooseUp(["type"]),f=m;f=12===m,n=h.call(o,e,{params:[f],fn:t},n),n.data+='" data-type="';var u=(s=l.type)!==i?s:(s=r.type)!==i?s:e.resolveLooseUp(["type"]);n=n.writeEscaped(u),n.data+='">\n                <a class="tb-tab-anchor" href="#" hidefocus="true"> ',p.line=6;var v=(s=l.name)!==i?s:(s=r.name)!==i?s:e.resolveLooseUp(["name"]);return n=n.writeEscaped(v),n.data+=' </a>\n                <div class="tb-selected-indicator" href="#"></div>\n            </li>\n            ',n}function i(e,a,t){e.data,e.affix;return a.data+=" tb-tad-hidden ",a}function r(e,a,t){var n=e.data,r=e.affix;a.data+='\n            <div class="tad-tabcon-anchor ',p.line=14;var l=(s=r.xindex)!==t?s:(s=n.xindex)!==t?s:e.resolveLooseUp(["xindex"]),d=l;d=0!==l,a=h.call(o,e,{params:[d],fn:i},a),a.data+='" id="J_Tad';var c=(s=r.modName)!==t?s:(s=n.modName)!==t?s:e.resolveLooseUp(["modName"]);a=a.writeEscaped(c),a.data+='" data-type="';var m=(s=r.type)!==t?s:(s=n.type)!==t?s:e.resolveLooseUp(["type"]);return a=a.writeEscaped(m),a.data+='">\n\n            </div>\n        ',a}var s,o=this,l=o.root,d=o.buffer,c=o.scope,p=(o.runtime,o.name,o.pos),m=c.data,f=c.affix,u=l.nativeCommands,v=l.utils,g=(v.callFn,v.callDataFn,v.callCommand,u.range,u["void"],u.foreach,u.forin,u.each),h=(u["with"],u["if"]);u.set,u.include,u.parse,u.extend,u.block,u.macro,u["debugger"];d.data+='<div class="tb-tad-first-area tb-clearfix">\n    <div class="tb-tad-tabbar-inner-wrap">\n        <ul class="tb-tabbar clear" id="J_TadTabBar">\n            ',p.line=4,p.line=4;var _=(s=f.data)!==e?s:(s=m.data)!==e?s:c.resolveLooseUp(["data"]);d=g.call(o,c,{params:[_],fn:n},d),d.data+='\n        </ul>\n    </div>\n    <div class="tb-tad-tabcon-inner-wrap">\n        ',p.line=13,p.line=13;var b=(s=f.data)!==e?s:(s=m.data)!==e?s:c.resolveLooseUp(["data"]);return d=g.call(o,c,{params:[b],fn:r},d),d.data+="\n    </div>\n</div>\n\n\n",d});return e.render.apply(e,arguments)}}(),g=function(e){var a=KISSY,t=n,r=i,s=u,o=v,l=I.all,d=T,c=B;s.init();var p=[];p.tad_first_area=o;var m=!1,f=!1,g=0,h=!1,_=null,b=0,y={init:function(e){var a=this;a.data=e.data,a.isDebug=e.isDebug,a.extraOption();try{a.render()}catch(t){l("body").fire("track",{msg:{url:location.href},category:"recommend:render:false"})}a.load(),a.bindEvent()},render:function(){var e=this;e.data&&e.data.tad_first_area&&a.each(e.data.tad_first_area,function(a){if(4==a.type)return e.data.tad_first_area.unshift({name:"1212",type:12}),!1}),a.each(e.data,function(e,t){if(e&&r[t]&&p[t]){var n=l(r[t].container),i=r[t].items,s=[];a.each(e,function(e){e=a.merge(e,i[e.type]),s.push(e)}),n.html(p[t]({data:s}))}})},reflow:function(e){var t=s.get(),n=t[e].items,i=t[e].showType,r=l("#"+e);i<0?r.hide():r.show(),"tad_first_area"==e&&(r.all(".tb-tad-nav").each(function(){var e=l(this).attr("data-type");e==i?l(this).addClass("selected"):l(this).removeClass("selected"),a.inArray(parseInt(e),n)||l(this).remove()}),r.all(".tad-tabcon-anchor").each(function(){var e=l(this).attr("data-type");e!=i?l(this).addClass("tb-tad-hidden"):l(this).removeClass("tb-tad-hidden"),a.inArray(parseInt(e),n)||l(this).remove()}))},_reflowSingleModInFirstArea:function(e){var t=s.get(),n=l("#tad_first_area"),i=t.tad_first_area.items,r=t.tad_first_area.showType,o=e.modName;if(r<0?n.hide():n.show(),"HeartElection"==o)var d="4";else if("MatchingCombo"==o)d="8";else{if("1212"!=o)return;d="12"}n.all(".tb-tad-nav").each(function(){var e=l(this).attr("data-type");e==r?l(this).addClass("selected"):l(this).removeClass("selected"),a.inArray(parseInt(d),i)&&e==d&&l(this).css({display:"inline"})}),n.all(".tad-tabcon-anchor").each(function(){var e=l(this).attr("data-type");e!=r?l(this).addClass("tb-tad-hidden"):l(this).removeClass("tb-tad-hidden")})},load:function(){var e=this,t=!1,n=!1,i=[],o=[];a.each(e.data,function(e,l){e&&r[l]&&a.each(e,function(e){var a=r[l].items[e.type];s.add(l,e.type),"ShopPromo"==a.modName||"MatchingCombo"==a.modName?(t||(t=!0),i.push(a)):"HeartElection"!=a.modName&&"1212"!=a.modName||(n||(n=!0),o.push(a))})}),!t&&(f=!0),t&&e.extraRequest(function(t){a.each(i,function(a){var n=a.modObject;try{n&&new n({container:a.container,data:t,successFn:function(){e.isAllUmpModInited(i.length),"MatchingCombo"==a.modName&&e._reflowSingleModInFirstArea(a)},errorFn:function(){e.isAllUmpModInited(i.length),"MatchingCombo"==a.modName&&(s.rm("tad_first_area",8),e.reflow("tad_first_area"))}}).init()}catch(r){l("body").fire("track",{msg:{url:location.href},category:"recommend:exec:false"})}})},function(){l("body").fire("track",{msg:{url:location.href,category:"recommend:request:false:umperror"}})}),n?e.tadRequestCombo(function(t){a.each(o,function(a){var n=a.modObject;try{n&&new n({container:a.container,data:t,successFn:function(){e.isAllTadModInited(o.length),e._reflowSingleModInFirstArea(a)},errorFn:function(){"HeartElection"==a.modName?s.rm("tad_first_area",4):"1212"==a.modName&&s.rm("tad_first_area",12),e.isAllTadModInited(o.length),e.reflow("tad_first_area")}}).init()}catch(i){l("body").fire("track",{msg:{url:location.href},category:"recommend:exec:false"})}})},function(){l("body").fire("track",{msg:{url:location.href,category:"recommend:request:false:customtaddata"}})}):l("body").fire("resource:sib",{success:function(){g_config&&g_config.sellerDetail&&g_config.sellerDetail.show&&(e.data.tad_first_area||(e.data.tad_first_area=[]),e.data.tad_first_area.push({name:"\u638c\u67dc\u63a8\u8350",type:4}),s.add("tad_first_area",12),s.add("tad_first_area",4),e.render(),e.tadRequestCombo2(function(t){var n=[r.tad_first_area.items[12],r.tad_first_area.items[4]];a.each(n,function(a){var i=a.modObject;try{i&&new i({container:a.container,data:t,successFn:function(){"1212"==a.modName&&s.switchTo("tad_first_area",12),e.isAllTadModInited(n.length),e._reflowSingleModInFirstArea(a)},errorFn:function(){"HeartElection"==a.modName?s.rm("tad_first_area",4):"1212"==a.modName&&s.rm("tad_first_area",12),e.isAllTadModInited(n.length),e.reflow("tad_first_area")}}).init()}catch(r){l("body").fire("track",{msg:{url:location.href},category:"recommend:exec:false"})}})},function(){l("body").fire("track",{msg:{url:location.href,category:"recommend:request:false:defaultplan"}})}))}})},bindEvent:function(){var e=this,a=l("#tad_first_area");a.on("click",function(a){var n=a.target;if(l(n).hasClass("tb-tad-nav")||l(n).hasClass("tb-tab-anchor")){a.preventDefault();var i=l(n).parent(".tb-tad-nav")||l(n),r=i.attr("data-type");e.goldLog(r),s.switchTo("tad_first_area",r),e.reflow("tad_first_area"),"4"==r&&t.sendStatistic("/sitem.5.1")}})},extraRequest:function(e,t){var n=g_config.idata&&g_config.idata.seller&&g_config.idata.seller.id,i=g_config.tadComponetCdn,r=g_config.itemId,s=!!~location.href.indexOf("daily"),o=s?"daily.taobao.net":"taobao.com";if(i)var l="//otds.alicdn.com/json/MMComponent.htm?meal=1&userId="+n+"&itemId="+r;else l="//detailskip."+o+"/json/MMComponent.htm?meal=1&userId="+n+"&itemId="+r;var c={url:l,type:"get",dataType:"jsonp",success:function(a){e&&e(a)},error:function(){t&&t()}};i&&a.mix(c,{jsonpCallback:"fromCdn",cache:!0}),new d(c)},extraOption:function(){var e=l("#tad_head_area"),a=l("#tad_first_area");0===e.length&&l('<div id="tad_head_area"></div>').insertBefore(a)},tadRequestCombo:function(e,a){var t=this;l("body").fire("resource:sib",{success:function(){var n=!!~location.href.indexOf("daily"),i=n?"//tad.daily.taobao.net":"//tad.taobao.com",r={};g_config.vdata&&g_config.vdata.viewer&&g_config.vdata.viewer.id?r.buyerid=g_config.vdata.viewer.id:r.buyerid=c.get("cna"),r.sellerid=g_config.sellerId,r.cna=c.get("cna"),r.itemid=g_config.itemId,r.catid=g_config.idata.item.cid,r.appid=1,r.areaid="tad_first_area",t.isDebug&&(r.debug=!0);var s=i+"/api/list";g_config&&g_config.sellerDetail&&g_config.sellerDetail.show&&(r.self=1),new d({url:s,type:"get",dataType:"jsonp",data:r,timeout:3e3,jsonp:"callback",error:function(){a&&a()},success:function(a){e&&e(a)}})}})},tadRequestCombo2:function(e,a){var t=!!~location.href.indexOf("daily"),n=t?"//tad.daily.taobao.net":"//tad.taobao.com",i={};g_config.vdata&&g_config.vdata.viewer&&g_config.vdata.viewer.id?i.buyerid=g_config.vdata.viewer.id:i.buyerid=c.get("cna"),i.sellerid=g_config.sellerId,i.cna=c.get("cna"),i.itemid=g_config.itemId,i.catid=g_config.idata.item.cid,i.appid=1,i.areaid="tad_first_area";var r=n+"/api/list";g_config&&g_config.sellerDetail&&g_config.sellerDetail.show&&(i.self=1),new d({url:r,type:"get",dataType:"jsonp",data:i,timeout:3e3,jsonp:"callback",error:function(){a&&a()},success:function(a){e&&e(a)}})},isAllTadModInited:function(e){var t=this;if(b++,b===e){var n=s.get(),i=n.tad_first_area.items,r=n.tad_first_area.showType;!h&&r&&a.inArray(parseInt(r),i)&&(t.goldLog(r),h=!0),m=!0,t.isAllModsLoaded()}},isAllUmpModInited:function(e){var a=this;g++,g===e&&(f=!0,a.isAllModsLoaded())},isAllModsLoaded:function(){m&&f&&l("body").fire("component:loaded",{name:"tad"})},goldLog:function(e){function a(e){var a=new Image;a.src=e}if(null===_||_!=e)try{_=e;var t="//gm.mmstat.com/shopflow.";if(4==e){var n=l(r.tad_first_area.items[4].container),i=n.attr("whichplan");if("default"==i)goldlog&&goldlog.record("/shopflow.5.1","","","H46807174");else if("custom"==i){var s=n.attr("taskid"),o=n.attr("templatetype");t+="3."+s+"?template="+o+"&t="+(new Date).getTime(),a(t)}}else if(12==e){if(l("#J_Tad1212 .tad12_guide_area").length||l("#J_Tad1212 .tad12_guide_success_tip").length)return;goldlog&&goldlog.record("/shopflow.5.2","","","H46807196")}}catch(d){l("body").fire("track",{msg:{url:location.href},category:"recommend:goldlog:false"})}}};return e=y}(),h=function(e){var a,t=(KISSY,I),n=S,i=T,c=P,p=B,m=t.all;a={},a.draw=r,a.swaps=s,a.photo=o,a.recommend=l,a.recom=d;var f=!!~location.href.indexOf("daily"),u=!1,v=!1,g=f?"//tad.daily.taobao.net":"//tad.taobao.com",h=f?"//tui.taobao.com/recommend?sellerid=737329&itemid=18813881279&buyerid=392063273&catid=50005818&cna=HbuVDIAPMg4CASp4Ss%20W2ffQ&areaid=tad_first_area&_ksTS=1414137448224_804&callback=jsonp805&appid=152":"//tui.taobao.com/recommend?appid=152",_=n.extend({init:function(){var e=this,a=e.get("data");a?e.render():e.load(),e.bindEvent()},render:function(){var e,t,n,i,r,s,o,l,d,p,f=this,g=f.get("data"),h=[],_=f.get("container"),b=f.get("errorFn"),y=f.get("successFn");if(g.guide)return g_config&&g_config.sellerDetail&&g_config.sellerDetail.buyerDetail?void m("#tad_first_area").hide():(location.host&&location.host.indexOf("daily")>-1?m(_).html('<div class="tad_guide_area" data-spm="1998223148"><div class="tad_guide_info"></div><div class="tad_guide_ope"><a href="//tte.daily.taobao.net/activity/default" target="_blank" class="tad_now_setbtn">\u7acb\u5373\u8bbe\u7f6e</a><a href="//bbs.taobao.com/catalog/thread/16029511-270773839.htm?scm=1212.30.1.31" target="_blank" class="tad_help_link">\u5e2e\u52a9</a></div></div>'):m(_).html('<div class="tad_guide_area" data-spm="1998223148"><div class="tad_guide_info"></div><div class="tad_guide_ope"><a href="//xin.mai.taobao.com/activity/default" target="_blank" class="tad_now_setbtn">\u7acb\u5373\u8bbe\u7f6e</a><a href="//bbs.taobao.com/catalog/thread/16029511-270773839.htm?scm=1212.30.1.31" target="_blank" class="tad_help_link">\u5e2e\u52a9</a></div></div>'),void(y&&y()));for(t in g)if("guide"!==t&&"tad_12"!==t&&"xin1212"!==t){var w=g[t],x=m("#"+t);if(w[0])if(w[0].redirect)h.push(t),v=!0;else if(w[0].success&&""!=w[0].content){for(u=!0,i="",s=0,l=w.length;s<l;s++)if(e="string"==typeof w[s].content?c.parse(w[s].content):w[s].content){for(r=a[e.name],e.style=f.getStyle(e.style),p=e.data,o=0,d=p.length;o<d;o++)n=p[o],n.style&&(n.style=f.getStyle(n.style));i+=r(e)}i.length>0&&e.data.length>0&&("tad_first_area"==t&&(x=m(_)||x),x.html(i),x.attr({taskid:e.taskID,templatetype:e.name,whichplan:"custom"}),x.show(),y&&y())}else"tad_first_area"==t&&b&&b()}v&&f.renderRedirect(h)},bindEvent:function(){var e=this;e.resize(),m(window).on("resize",function(){e.resize()})},resize:function(){m("#tad_first_area").parent().width()>990?m("#J_TadHeartElection").length&&m("#J_TadHeartElection").removeClass("tad_small_width"):m("#J_TadHeartElection").length&&m("#J_TadHeartElection").addClass("tad_small_width")},load:function(){var e=this,a=e.get("args"),t={},n=e.get("errorFn");e.get("successFn");t.sellerid=a.sellerId,t.buyerid=a.userId,t.appid=1,t.itemid=a.objectId,t.catid=a.catid,t.cna=a.cna,t.areaid="tad_first_area",g_config&&g_config.sellerDetail&&g_config.sellerDetail.show&&(t.self=1);var r=g+"/api/list";return new i({url:r,type:"get",dataType:"jsonp",data:t,timeout:3e3,error:function(){n&&n()},jsonp:"callback",success:function(a){return a?(e.set("data",a),void e.render()):void(n&&n())}})},renderRedirect:function(e){var t,n=this,r=n.get("args"),s={},o=n.get("container"),l=n.get("errorFn"),d=n.get("successFn");return s.sellerid=r.sellerId,s.itemid=r.objectId,s.buyerid=r.userId,s.catid=r.catid,s.cna=r.cna,s.areaid=r.targetId.toString(),f&&(s={}),new i({url:h,type:"get",data:s,dataType:"jsonp",timeout:3e3,jsonp:"callback",error:function(){l&&l()},success:function(n){if(!n)return void(l&&l());if(n&&!n.result)return void(l&&l());if(n&&n.result&&0==n.result.length)return void(l&&l());for(var i=0;i<e.length;i++){var r=e[i],s=m("#"+r);if(!n)return void(l&&l());var c="",p=n.result[0][r];if(p.success&&0!=p.data.length){var f={caption:p.caption,data:p.data};if(t=a.recommend,c+=t(f),"tad_first_area"==r&&(s=m(o)||s),s.html(c),s.attr({whichplan:"default"}),s.show(),d&&d(),"tad_second_area"===r){var u="//log.mmstat.com/shopflow.4?&t="+(new Date).getTime(),v=new Image;v.src=u}}else"tad_first_area"==r&&l&&l()}}})},getStyle:function(e){var a,t,n,i,r;if(!e)return"";i="";for(t in e)r=e[t],n=t.match(/[A-Z]/),n&&n.length>0&&(a=n[0],t=t.replace(a,"-"+a.toLowerCase())),i+=t+":"+r+";";return i}},{ATTRS:{args:{valueFn:function(){var e={};return e.targetId=["tad_first_area"],g_config.vdata&&g_config.vdata.viewer&&g_config.vdata.viewer.id?e.userId=g_config.vdata.viewer.id:e.userId=p.get("cna"),e.cna=p.get("cna"),e.objectId=g_config.itemId,e.sellerId=g_config.sellerId,e.shopId=g_config.shopId,e.catid=g_config.idata.item.cid,e}},data:{value:""},container:{value:""},successFn:{valueFn:function(){}},errorFn:{valueFn:function(){}}}});return e=_}(),_=function(e){var a=I,t=S,n=L,i=c,r=T,s=KISSY,o=a.all,l=a.all("body"),d="loadDefaultData",f="tb-hidden",u=O,v=s.merge({},u.Target),g=t.extend({init:function(){this.render()},show:function(){n.removeClass(this.get("el"),f)},hide:function(){n.addClass(this.get("el"),f)},render:function(){var e=this,a=e.get("api"),t=e.get("data");v.on(d,function(e){new i({api:a,dataBox:"#J_BundleData",pageBox:"#J_BundlePage",meals:e.meals})}),l.on("load",function(a){var t=a.api,n=g_config.tadComponetCdn,i={url:t,type:"get",dataType:"jsonp",success:function(a){e.renderDefault(a)},error:function(){l.fire("track",{msg:{url:location.href,category:"recommend:request:false:matchingcombo"}});var a=e.get("errorFn");a&&a()}};n&&s.mix(i,{jsonpCallback:"fromCdn",cache:!0}),new r(i)}),e.renderDefault(t)},renderDefault:function(e){if(s.isPlainObject(e)&&e.data&&e.data.mealComponentBO){var t=this,n=t.get("container"),i=t.get("el"),r=[],o=[],c=t.get("renderDefault");c||(r=t.get("tpl"),o=e.data.mealComponentBO.meals,a.one(n).append(r({mealComponentBO:e.data.mealComponentBO})),n&&a.one(n).append(a.one(i)),t.set("renderDefault",!0)),r=t.get("tplCombo"),a.one("#J_BundleData").html(r({mealComponentBO:e.data.mealComponentBO})),t.show(),o.length&&v.fire(d,{meals:o}),window.DT&&DT.Messenger.fire("ui:tabbar:checkStick");var p=this.get("successFn");p&&p(),l.fire("loadsuccess")}else{var m=this.get("errorFn");m&&m(),l.fire("loaderror")}}},{ATTRS:{renderDefault:{value:!1},container:{value:""},errorFn:{valueFn:function(){}},successFn:{valueFn:function(){}},data:{value:""},el:{valueFn:function(){return o("#matching-combo")}},tpl:{value:p},tplCombo:{value:m},api:{valueFn:function(){var e=this,a=(e.get("daily"),e.get("userId")),t=e.get("itemId"),n=e.get("tadComponetCdn");return n?"//otds.alicdn.com/json/MMComponent.htm?meal=1&userId="+a+"&itemId="+t:"//detailskip.taobao.com/json/MMComponent.htm?meal=1&userId="+a+"&itemId="+t}},daily:{valueFn:function(){var e=!!~location.href.indexOf("daily");return e?"daily.taobao.net":"taobao.com"}},userId:{value:g_config.idata&&g_config.idata.seller&&g_config.idata.seller.id},itemId:{value:g_config.itemId},tadComponetCdn:{value:g_config.tadComponetCdn}}});return e=g}(),b=function(e){var a=(KISSY,I.all),t=S,n=P,i=f,r=!!~location.href.indexOf("daily"),s=r?"//tte.daily.taobao.net/activity/xin12?src=3":"//xin.mai.taobao.com/activity/xin12?src=3";return e=t.extend({init:function(){var e=this;e.render()},render:function(){var e=this,t=e.get("data"),r=e.get("successFn"),o=e.get("errorFn"),l=e.get("container");if("undefined"==typeof t.tad_12)o&&o();else if(t.tad_12.length>0){var d=t.tad_12[0],c=d.content;if(!d.success||!c)return void(o&&o());if(c="string"==typeof c?n.parse(c):c,void 0==c.xin1212){var p=c;i.init(p,a(l))}else c.xin1212?a(l).html('<div class="tad12_guide_area" data-spm="1998223148"><div class="tad12_guide_info"></div><div class="tad12_guide_ope"><a href="'+s+'" target="_blank" class="tad12_now_setbtn">\u7acb\u5373\u8bbe\u7f6e</a><a href="//bbs.taobao.com/catalog/thread/17180510-277372963.htm?scm=1212.30.2.1" target="_blank" class="tad12_help_link">\u5e2e\u52a9</a></div></div>'):a(l).html('<p class="tad12_guide_success_tip">\u5927\u4fc3\u671f\u95f4(\u9884\u552e\u3001\u9884\u70ed\u53ca12.12\u5f53\u5929)\uff0c\u5982\u60a8\u6709\u5546\u54c1\u62a5\u540d\u5ba1\u6838\u6210\u529f\uff0c\u5219\u663e\u793a1212\u4e07\u80fd\u76db\u5178\uff0c\u6837\u5f0f\u5982\u4e0b:</p><div class="tad12_guide_success"><img src="//img.alicdn.com/tps/i2/TB1WN6wGFXXXXaiXXXXk00J9FXX-1124-309.png" class="tad_guide_success_sample" alt=""/></div>');r&&r()}else 0==t.tad_12.length&&(void 0!=t.xin1212?(t.xin1212?a(l).html('<div class="tad12_guide_area" data-spm="1998223148"><div class="tad12_guide_info"></div><div class="tad12_guide_ope"><a href="'+s+'" target="_blank" class="tad12_now_setbtn">\u7acb\u5373\u8bbe\u7f6e</a><a href="//bbs.taobao.com/catalog/thread/17180510-277372963.htm?scm=1212.30.2.1" target="_blank" class="tad12_help_link">\u5e2e\u52a9</a></div></div>'):a(l).html('<p class="tad12_guide_success_tip">\u5927\u4fc3\u671f\u95f4(\u9884\u552e\u3001\u9884\u70ed\u53ca12.12\u5f53\u5929)\uff0c\u5982\u60a8\u6709\u5546\u54c1\u62a5\u540d\u5ba1\u6838\u6210\u529f\uff0c\u5219\u663e\u793a1212\u4e07\u80fd\u76db\u5178\uff0c\u6837\u5f0f\u5982\u4e0b:</p><div class="tad12_guide_success"><img src="//img.alicdn.com/tps/i2/TB1WN6wGFXXXXaiXXXXk00J9FXX-1124-309.png" class="tad_guide_success_sample" alt=""/></div>'),r&&r()):o&&o())},resize:function(){a("#tad_first_area").parent().width()>990?a("#J_TadHeartElection").length&&a("#J_TadHeartElection").removeClass("tad_small_width"):a("#J_TadHeartElection").length&&a("#J_TadHeartElection").addClass("tad_small_width")}},{ATTRS:{data:{value:""},container:{value:""},successFn:{valueFn:function(){}},errorFn:{valueFn:function(){}}}})}(),y=function(e){function a(e){var t=this;e.isDebug="3333"===location.port,a.superclass.constructor.call(t,e),t.init(e)}var t=KISSY,n=I,i=g,r=S,s=F;return a.ATTRS={},t.mix(a,s.Target),t.extend(a,r,{init:function(e){this.buildConfig(e),i.init(this.config)},buildConfig:function(e){this.config=t.mix(a.ATTRS,e,!0,null,!0)}}),"3333"===location.port&&n("body").on("resource:sib",function(e){e.success()}),e=a}(),w=function(e){return e=y}(),t.exports=w});