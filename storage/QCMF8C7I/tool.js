!function(window){function getRepeatStr(a,b){return a==b?(-1!=$.inArray(a,$.repeatArray)||/^[\s'ã€€']*$/.test(a)||$.repeatArray.push(a),0):a>b?1:-1}function doRefresh(a){a||(a=window.location.href),window.location.href=a}function makeInputTip(a,b,c){var d=a.val();""!=$.trim(d)?b.hide():b.show(),b.click(function(){$(this).hide(),a.focus()}),a.focus(function(){b.hide()}).blur(function(){""==$.trim(a.val())&&(b.show(),void 0!==c&&b.html(c))})}function animateScroll(a,b){a.hover(function(){$.scrollTime&&clearTimeout($.scrollTime)},function(){makeScroll(a,b)}),makeScroll(a,b)}function makeScroll(a,b){$.scrollTime=setTimeout(function(){var c=a.find(b+":last").height();a.find(b+":last").css({height:"0px",opacity:"0"}).prependTo(a),a.find(b+":first").animate({height:c+"px"},1e3).animate({opacity:1},500),makeScroll(a,b)},3e3)}function limitInput(a,b){var c=a.val();c.length>0&&b.test(c)&&a.val(c.replace(b,""))}function getInputLength(a,b,c,d){var e=a.val().length;b.html(e),c>e||e>d?b.css("color","red"):b.removeAttr("style")}function getFormatTime(t){if(t)var time=eval("new "+t.substr(1,t.length-2));else var time=new Date;var year=time.getFullYear(),month=time.getMonth()+1,day=time.getDate(),hour=time.getHours(),minute=time.getMinutes(),second=time.getSeconds();10>month&&(month="0"+month),10>day&&(day="0"+day),10>hour&&(hour="0"+hour),10>minute&&(minute="0"+minute),10>second&&(second="0"+second);var tim=year+"/"+month+"/"+day+" "+hour+":"+minute+":"+second;return tim}function fixUploadHeight(a){var b=$(parent.document).find("#"+a),c=$("body").height(),d=$(parent.window).height();c>d-66&&(c=d-66),b.css("height",c+"px"),b.closest("[role=alertdialog]").length>0&&b.closest("[role=alertdialog]").css({height:c+47+"px","margin-top":-(c+47)/2+"px"})}function getFileProperty(a,b){if(a.files){var c=a.files;if(c.length>0){var d=c[0],e=d.type.split("/")[1];return void b({name:d.name,type:e,size:d.size,lastModifiedDate:d.lastModified||d.lastModifiedDate})}}else{var f=a.value;/^\w+\:\\.+$/.test(f)&&(f=f.replace(/\\/g,"\\"));var g=new Image;g.onload=g.onreadystatechange=function(){if(!g.readyState||"complete"==g.readyState||"loaded"==g.readyState){g.onload=g.onreadystatechange=null;var a=g.nameProp,c=a.substring(a.lastIndexOf(".")+1,a.length);return b({name:a,type:c,size:g.fileSize,lastModifiedDate:g.fileModifiedDate}),void(g=null)}},g.style.display="none",g.src=f}}var Tool={getRepeatStr:getRepeatStr,doRefresh:doRefresh,makeInputTip:makeInputTip,animateScroll:animateScroll,limitInput:limitInput,getInputLength:getInputLength,getFormatTime:getFormatTime,fixUploadHeight:fixUploadHeight,getFileProperty:getFileProperty};window.Tool=Tool}(this);