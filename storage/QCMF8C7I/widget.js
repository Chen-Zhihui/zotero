!function(a){function b(a,b,c,d){$.successTip&&clearTimeout($.successTip),null!=a&&$(a).hide();var e=$("body");null==b&&(b=$("<div style='position:fixed;_position:absolute;z-index:10000;width:100%;height:100%;top:0px;left:0px;background-color:#000;filter:alpha(opacity=30);opacity:0.3;'></div>"),e.append(b)),0==$(".successMsgTip").length&&e.append("<div class='successMsgTip'><span class='fl ico successTip-ico'></span><p class='fl'>"+c+"</p></div>");var f=$(".successMsgTip"),g={width:"",isRefresh:!1,refreshUrl:""},h=$.extend(g,d),i=f.width();marginLeft=-(parseInt(i)/2),f.css({opacity:0,"margin-top":"0px","margin-left":marginLeft+"px"}).show().find("p").html(c).end().animate({opacity:1,"margin-top":"-25px"},200),$.successTip=setTimeout(function(){f.animate({opacity:0,"margin-top":"-50px"},200,function(){if(f.hide().find("p").html(""),null!=a&&$(a).remove(),null!=b&&$(b).remove(),h.isRefresh){var c=h.refreshUrl;""==c?location.reload():location.href=c}})},1300)}function c(a,b){function c(){if($.showErrorTipTimer&&clearTimeout($.showErrorTipTimer),h.isRefresh){var a=h.refreshUrl;"string"==typeof a&&""!=a||(a=location.href),location.href=a}d.remove(),e.remove()}var d,e,f,g,h=$.extend({width:350,height:140,isRefresh:!1,refreshUrl:""},b),i=$(top.document),j=i.find("#J_showErrorTip");if(0==j.length){var k=h.width,l=h.height,m=isNaN(parseInt(k))?"auto":parseInt(k),n=isNaN(parseInt(l))?"auto":parseInt(l);d=$("<div class='showErrorTip-blockUI' id='J_blockUI'></div>"),e=$("<div class='showErrorTip-box' id='J_showErrorTip'></div>").css({width:m,height:n}),f=$("<div class='showErrorTip-boxBg'></div>").css({width:m,height:n}),g=$("<div class='showErrorTip-inner' id='J_showErrorTipInner'><div class='showErrorTip-hd'>昵图网提示：</div><p><span class='ico error-ico2 mr5'></span>"+a+"</p><div class='showErrorTip-bottom'><input type='button' value='确定' class='showErrorTip-btn' id='J_showErrorTipBtn' /></div></div>"),e.append(f).append(g),i.find("body").append(d,e)}else d=i.find("#J_blockUI"),e=i.find("#J_showErrorTip"),f=i.find("#J_showErrorTipBg"),g=i.find("#J_showErrorTipInner");var o=e.outerWidth(),p=e.outerHeight();e.css({"margin-left":"-"+o/2+"px","margin-top":"-"+p/2+"px"}),f.css({width:o,height:p});var q=parseInt(g.css("padding-bottom")),r=parseInt(g.css("padding-top"));g.height(p-2-q-r);var s=i.find("#J_showErrorTipBtn"),t=5;$.browser.msie&&"6.0"==$.browser.version&&d.css({width:i.width(),height:i.height()}),d.show(),e.fadeIn(100),$.showErrorTipTimer=setTimeout(function(){return 0==t?void c():(t--,s.val("确定("+t+")"),void($.showErrorTipTimer=setTimeout(arguments.callee,1e3)))},1e3),s.on("click",c)}function d(a,b){var c=$.extend({type:0,titleMsg:"",tipMsg:"",width:540,height:275,btn:"<span class='inline-block bg-png24 search-sort-btn member-common-on "+("undefined"!=typeof a&&a.okClose?"":"close-floatbox")+" J-confirm-yes'>确定</span><span class='inline-block bg-png24 close-floatbox search-sort-btn'>取消</span>",closeBtnVisible:!0},a);if(1==c.type)var d="<div class='false-confirm-box'><div>"+c.tipMsg+"</div><div class='confirm-box'>"+c.btn+"</div></div>";else var d="<div class='false-confirm-box'><p>"+c.tipMsg+"</p><div class='confirm-box'>"+c.btn+"</div></div>";var a={box:"falseConfirm",bg:"falseConfirmBg",title:c.titleMsg,content:d,boxConfig:{width:parseInt(c.width)+"px",height:parseInt(c.height)+"px",closeBtnVisible:c.closeBtnVisible}};loadFloatboxScript(a,function(){$(".J-confirm-yes").length>0?$(".J-confirm-yes").on("click",function(){var a=$(this);a.is(":disabled")||(a.attr("disabled","disabled"),"function"==typeof b&&b(!0))}):"function"==typeof b&&b(!0)})}function e(a,b){var c,d=$(a.target),e=d.hasClass("J-false-select"),f=d.closest(".J-false-select"),g=f.length>0;if($(".J-false-droplist").hide(),e&&(c=d),g&&(c=f),!c||!c.attr("disabled")){var h=c&&c.attr("data-diff")?$(".J-false-droplist[data-target="+c.attr("data-diff")+"]"):$(".J-false-droplist");if(e||g){var i=c.offset(),j=c.outerHeight(),k=i.left,l=i.top;$("[data-diff][selected=selected]").removeAttr("selected"),c.attr("selected","selected"),h.css({left:k+"px",top:l+j+3+"px"}).slideDown(200).scrollTop(0)}else{var m=$(".J-false-select[selected=selected]"),n=m.attr("data-diff"),o=m.closest(".works-edit-item").find(".common-error-tip-box"),p=o.find(".common-error-tip");if(d.hasClass("J-false-droplist-item")){var q=d.attr("data-value"),r=d.html(),s=m.find(".J-select-text");s.length>0?s.is(":input")?s.val(r):s.html(r):m.prepend("<span class='J-select-text'>"+r+"</span>");var t=n?$(".J-false-droplist-reciver[data-reciver="+n+"]"):$(".J-false-droplist-reciver");t.length>0&&t.val(q),$.isFunction(b)&&b(d,q,m),o.length>0&&o.is(":visible")&&(o.hide(),p.text(""))}m.removeAttr("selected"),h.hide()}}}function f(b){var b=b&&"string"==typeof b?b:"请稍后&hellip;";0==$("#J_showWaiting").length&&$("body").append("<div class='showWaiting' id='J_showWaiting'><div class='showWaitingBg'></div><div class='showWaitingMain'><img src='"+getAppHost()["static"]+"/images/loading.gif' alt='waiting' />"+b+"</div></div>");var c=$("#J_showWaiting"),d=c.outerWidth();c.css({"margin-left":"-"+d/2+"px"}),$.browser.msie&&"6.0"==$.browser.version&&(g(),$(a).on({resize:g,scroll:g})),$.waitingTime=setTimeout(function(){c.show()},500)}function g(){var b=$(a).scrollTop();$("#J_showWaiting").css("top",b)}function h(a,b,c){var d=$.extend(!0,{container:"",styles:{height:"33px","line-height":"33px",width:"990px","text-align":"center","background-color":"#E48632",color:"#fff","font-size":"14px","font-weight":"bold"}},b),e="",f=d.container;for(var g in d.styles)e+=g+":"+d.styles[g]+";";var h=$("<div id='J_showNotice' style='background-color:"+d.styles["background-color"]+";'><div style='margin:0px auto;"+e+"'>"+a+"</div></div>");f.length>0&&f.before(h),"function"==typeof b&&(c=b),"function"==typeof c&&c(h)}function i(a,b,c,d,e,f,g){var h=$.extend(!0,{type:"append",elem:$("body"),attrs:{href:"",title:"",target:"_blank"},styles:{display:"block"},imgAttrs:{alt:"",src:""},imgStyles:{}},b),i=$("<a></a>").attr(h.attrs).css(h.styles).append($("<img />").attr(h.imgAttrs).css(h.imgStyles));switch(h.type){case"append":h.elem.append(i);break;case"prepend":h.elem.prepend(i);break;case"before":h.elem.before(i);break;case"after":h.elem.after(i)}}var j=function(b){function c(){var a=h.height(),b=h.width(),c=h.scrollLeft(),d=h.scrollTop();$("#J_overLayer,#J_overLayerBg").css({height:a+d+"px",width:b+c+"px"}),i.css({"margin-top":0,"margin-left":0,top:d+(a-j)/2+"px",left:c+(b-k)/2+"px"})}var d=$.extend(!0,{content:"",url:"",callback:function(){}},b),e=document.referrer,f=$.trim(d.url).length>0?d.url:e&&"string"==typeof e&&$.trim(e).length>0?e:"",g='<div id="J_overLayer" style="position:fixed;_position:absolute;left:0;top:0;width:100%;height:100%;z-index:9999;font-size:14px;text-align:center;">';g+='<div style="width:100%;height:100%;background-color:#000;opacity:0.5;filter:alpha(opacity=50);" id="J_overLayerBg"></div>',g+='<div style="position:absolute;background-color:#f2f2f2;border-radius:8px;padding:20px;width:344px;left:50%;top:50%;margin-left:-192px;margin-top:-50px;z-index:100;" id="J_overLayerContent">'+d.content,g+='<div style="text-align:center;margin-top:10px;">',f&&(g+='<input type="button" style="background-color:#555;padding:5px 10px;margin-top:10px;color:#fff;" onclick="location.href=\''+f+'\';" value="返回" >'),g+="</div>",g+="</div>",g+="</div>",$("body").append(g);var h=$(a),i=$("#J_overLayerContent"),j=i.outerHeight(),k=i.outerWidth();$.browser.msie&&"6.0"===$.browser.version?(c(),h.on({scroll:c,resize:c})):i.css("margin-top","-"+j/2+"px")},k=function(a){var b=$.extend(!0,{container:"",slider:"",item:"",speed:500,interval:3e3,auto:!0,trigger:"",show:""},a);this.container=$(b.container),this.slider=$(b.slider),this.item=$(b.slider).find(b.item),this.speed=parseInt(b.speed),this.interval=parseInt(b.interval),this.trigger=$(b.trigger),this.auto=b.auto,this.show=b.show,this.init()};k.prototype={init:function(){if(0===this.container.length)throw new Error("container is not found.");if(0===this.slider.length)throw new Error("slider is not found.");if(0===this.item.length)throw new Error("item is not found.");this.container.width();this.itemWidth=this.item.first().outerWidth();var a=this.item.length;this.show&&"fade"==this.show?this.item.css({"z-index":10,opacity:0,"float":"none",display:"none"}).eq(0).css({"z-index":11,opacity:1,"float":"none",display:"inline-block"}):this.slider.css("width",this.itemWidth*a+"px"),this.trigger.length>0&&this.trigger.first().addClass("on").siblings().removeClass("on")},start:function(){function a(a,b){a.addClass("on").siblings().removeClass("on"),"fade"==g.show?e.eq(b).css({display:"inline-block","z-index":11}).animate({opacity:1},g.speed).siblings().hide().css("opacity",0):d.stop(!0,!0).animate({left:"-"+b*f+"px"},g.speed)}function b(b){h=setTimeout(function(){b++,b>i-1&&(b=0),g.cur=b,a(c.eq(b),b),h=setTimeout(arguments.callee,g.interval)},g.interval)}var c=this.trigger,d=this.slider,e=this.item,f=this.itemWidth,g=this;if(c.length>0&&c.on("click",function(){var b=$(this),c=b.index();g.cur=c,a(b,c)}),this.auto){var h,i=e.length,j=0;b(j),this.container.hover(function(){h&&clearTimeout(h)},function(){b(g.cur)})}}};var l={showSuccessTip:b,showErrorTip:c,falseConfirm:d,showFalseDroplist:e,showWaiting:f,showNotice:h,setAdBanner:i,overLayer:j,Slider:k};a.Widget=l||{}}(this);